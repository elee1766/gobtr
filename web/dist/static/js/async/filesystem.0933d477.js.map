{"version":3,"file":"static/js/async/filesystem.0933d477.js","sources":["../../../../node_modules/poline/dist/index.mjs","../../../../src/pages/fs/OverviewTab.tsx","../../../../src/pages/fs/UsageTab.tsx","../../../../src/pages/fs/SubvolumesTab.tsx","../../../../src/components/ScrubConfirmModal.tsx","../../../../src/components/BalanceConfirmModal.tsx","../../../../src/pages/fs/MaintenanceTab.tsx","../../../../src/components/FragMapViz.tsx","../../../../src/pages/fs/VisualizeTab.tsx","../../../../src/pages/fs/ErrorsTab.tsx","../../../../src/pages/fs/SettingsTab.tsx","../../../../src/pages/FilesystemDetail.tsx"],"sourcesContent":["var __pow = Math.pow;\n\n// src/index.ts\nvar pointToHSL = (xyz, invertedLightness) => {\n  const [x, y, z] = xyz;\n  const cx = 0.5;\n  const cy = 0.5;\n  const radians = Math.atan2(y - cy, x - cx);\n  let deg = radians * (180 / Math.PI);\n  deg = (360 + deg) % 360;\n  const s = z;\n  const dist = Math.sqrt(Math.pow(y - cy, 2) + Math.pow(x - cx, 2));\n  const l = dist / cx;\n  return [deg, s, invertedLightness ? 1 - l : l];\n};\nvar hslToPoint = (hsl, invertedLightness) => {\n  const [h, s, l] = hsl;\n  const cx = 0.5;\n  const cy = 0.5;\n  const radians = h / (180 / Math.PI);\n  const dist = (invertedLightness ? 1 - l : l) * cx;\n  const x = cx + dist * Math.cos(radians);\n  const y = cy + dist * Math.sin(radians);\n  const z = s;\n  return [x, y, z];\n};\nvar randomHSLPair = (startHue = Math.random() * 360, saturations = [Math.random(), Math.random()], lightnesses = [0.75 + Math.random() * 0.2, 0.3 + Math.random() * 0.2]) => [\n  [startHue, saturations[0], lightnesses[0]],\n  [(startHue + 60 + Math.random() * 180) % 360, saturations[1], lightnesses[1]]\n];\nvar randomHSLTriple = (startHue = Math.random() * 360, saturations = [Math.random(), Math.random(), Math.random()], lightnesses = [\n  0.75 + Math.random() * 0.2,\n  Math.random() * 0.2,\n  0.75 + Math.random() * 0.2\n]) => [\n  [startHue, saturations[0], lightnesses[0]],\n  [(startHue + 60 + Math.random() * 180) % 360, saturations[1], lightnesses[1]],\n  [(startHue + 60 + Math.random() * 180) % 360, saturations[2], lightnesses[2]]\n];\nvar vectorOnLine = (t, p1, p2, invert = false, fx = (t2, invert2) => invert2 ? 1 - t2 : t2, fy = (t2, invert2) => invert2 ? 1 - t2 : t2, fz = (t2, invert2) => invert2 ? 1 - t2 : t2) => {\n  const tModifiedX = fx(t, invert);\n  const tModifiedY = fy(t, invert);\n  const tModifiedZ = fz(t, invert);\n  const x = (1 - tModifiedX) * p1[0] + tModifiedX * p2[0];\n  const y = (1 - tModifiedY) * p1[1] + tModifiedY * p2[1];\n  const z = (1 - tModifiedZ) * p1[2] + tModifiedZ * p2[2];\n  return [x, y, z];\n};\nvar vectorsOnLine = (p1, p2, numPoints = 4, invert = false, fx = (t, invert2) => invert2 ? 1 - t : t, fy = (t, invert2) => invert2 ? 1 - t : t, fz = (t, invert2) => invert2 ? 1 - t : t) => {\n  const points = [];\n  for (let i = 0; i < numPoints; i++) {\n    const [x, y, z] = vectorOnLine(\n      i / (numPoints - 1),\n      p1,\n      p2,\n      invert,\n      fx,\n      fy,\n      fz\n    );\n    points.push([x, y, z]);\n  }\n  return points;\n};\nvar linearPosition = (t) => {\n  return t;\n};\nvar exponentialPosition = (t, reverse = false) => {\n  if (reverse) {\n    return 1 - __pow(1 - t, 2);\n  }\n  return __pow(t, 2);\n};\nvar quadraticPosition = (t, reverse = false) => {\n  if (reverse) {\n    return 1 - __pow(1 - t, 3);\n  }\n  return __pow(t, 3);\n};\nvar cubicPosition = (t, reverse = false) => {\n  if (reverse) {\n    return 1 - __pow(1 - t, 4);\n  }\n  return __pow(t, 4);\n};\nvar quarticPosition = (t, reverse = false) => {\n  if (reverse) {\n    return 1 - __pow(1 - t, 5);\n  }\n  return __pow(t, 5);\n};\nvar sinusoidalPosition = (t, reverse = false) => {\n  if (reverse) {\n    return 1 - Math.sin((1 - t) * Math.PI / 2);\n  }\n  return Math.sin(t * Math.PI / 2);\n};\nvar asinusoidalPosition = (t, reverse = false) => {\n  if (reverse) {\n    return 1 - Math.asin(1 - t) / (Math.PI / 2);\n  }\n  return Math.asin(t) / (Math.PI / 2);\n};\nvar arcPosition = (t, reverse = false) => {\n  if (reverse) {\n    return 1 - Math.sqrt(1 - __pow(t, 2));\n  }\n  return 1 - Math.sqrt(1 - t);\n};\nvar smoothStepPosition = (t) => {\n  return __pow(t, 2) * (3 - 2 * t);\n};\nvar positionFunctions = {\n  linearPosition,\n  exponentialPosition,\n  quadraticPosition,\n  cubicPosition,\n  quarticPosition,\n  sinusoidalPosition,\n  asinusoidalPosition,\n  arcPosition,\n  smoothStepPosition\n};\nvar distance = (p1, p2, hueMode = false) => {\n  const a1 = p1[0];\n  const a2 = p2[0];\n  let diffA = 0;\n  if (hueMode && a1 !== null && a2 !== null) {\n    diffA = Math.min(Math.abs(a1 - a2), 360 - Math.abs(a1 - a2));\n    diffA = diffA / 360;\n  } else {\n    diffA = a1 === null || a2 === null ? 0 : a1 - a2;\n  }\n  const a = diffA;\n  const b = p1[1] === null || p2[1] === null ? 0 : p2[1] - p1[1];\n  const c = p1[2] === null || p2[2] === null ? 0 : p2[2] - p1[2];\n  return Math.sqrt(a * a + b * b + c * c);\n};\nvar ColorPoint = class {\n  constructor({\n    xyz,\n    color,\n    invertedLightness = false\n  } = {}) {\n    this.x = 0;\n    this.y = 0;\n    this.z = 0;\n    this.color = [0, 0, 0];\n    this._invertedLightness = false;\n    this._invertedLightness = invertedLightness;\n    this.positionOrColor({ xyz, color, invertedLightness });\n  }\n  positionOrColor({\n    xyz,\n    color,\n    invertedLightness = false\n  }) {\n    if (xyz && color || !xyz && !color) {\n      throw new Error(\"Point must be initialized with either x,y,z or hsl\");\n    } else if (xyz) {\n      this.x = xyz[0];\n      this.y = xyz[1];\n      this.z = xyz[2];\n      this.color = pointToHSL([this.x, this.y, this.z], invertedLightness);\n    } else if (color) {\n      this.color = color;\n      [this.x, this.y, this.z] = hslToPoint(color, invertedLightness);\n    }\n  }\n  set position([x, y, z]) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.color = pointToHSL(\n      [this.x, this.y, this.z],\n      this._invertedLightness\n    );\n  }\n  get position() {\n    return [this.x, this.y, this.z];\n  }\n  set hsl([h, s, l]) {\n    this.color = [h, s, l];\n    [this.x, this.y, this.z] = hslToPoint(\n      this.color,\n      this._invertedLightness\n    );\n  }\n  get hsl() {\n    return this.color;\n  }\n  get hslCSS() {\n    const [h, s, l] = this.color;\n    return `hsl(${h.toFixed(2)}, ${(s * 100).toFixed(2)}%, ${(l * 100).toFixed(\n      2\n    )}%)`;\n  }\n  get oklchCSS() {\n    const [h, s, l] = this.color;\n    return `oklch(${(l * 100).toFixed(2)}% ${(s * 0.4).toFixed(3)} ${h.toFixed(\n      2\n    )})`;\n  }\n  get lchCSS() {\n    const [h, s, l] = this.color;\n    return `lch(${(l * 100).toFixed(2)}% ${(s * 150).toFixed(2)} ${h.toFixed(\n      2\n    )})`;\n  }\n  shiftHue(angle) {\n    this.color[0] = (360 + (this.color[0] + angle)) % 360;\n    [this.x, this.y, this.z] = hslToPoint(\n      this.color,\n      this._invertedLightness\n    );\n  }\n};\nvar Poline = class {\n  constructor({\n    anchorColors = randomHSLPair(),\n    numPoints = 4,\n    positionFunction = sinusoidalPosition,\n    positionFunctionX,\n    positionFunctionY,\n    positionFunctionZ,\n    closedLoop,\n    invertedLightness\n  } = {\n    anchorColors: randomHSLPair(),\n    numPoints: 4,\n    positionFunction: sinusoidalPosition,\n    closedLoop: false\n  }) {\n    this._needsUpdate = true;\n    this._positionFunctionX = sinusoidalPosition;\n    this._positionFunctionY = sinusoidalPosition;\n    this._positionFunctionZ = sinusoidalPosition;\n    this.connectLastAndFirstAnchor = false;\n    this._animationFrame = null;\n    this._invertedLightness = false;\n    if (!anchorColors || anchorColors.length < 2) {\n      throw new Error(\"Must have at least two anchor colors\");\n    }\n    this._anchorPoints = anchorColors.map(\n      (point) => new ColorPoint({ color: point, invertedLightness })\n    );\n    this._numPoints = numPoints + 2;\n    this._positionFunctionX = positionFunctionX || positionFunction || sinusoidalPosition;\n    this._positionFunctionY = positionFunctionY || positionFunction || sinusoidalPosition;\n    this._positionFunctionZ = positionFunctionZ || positionFunction || sinusoidalPosition;\n    this.connectLastAndFirstAnchor = closedLoop || false;\n    this._invertedLightness = invertedLightness || false;\n    this.updateAnchorPairs();\n  }\n  get numPoints() {\n    return this._numPoints - 2;\n  }\n  set numPoints(numPoints) {\n    if (numPoints < 1) {\n      throw new Error(\"Must have at least one point\");\n    }\n    this._numPoints = numPoints + 2;\n    this.updateAnchorPairs();\n  }\n  set positionFunction(positionFunction) {\n    if (Array.isArray(positionFunction)) {\n      if (positionFunction.length !== 3) {\n        throw new Error(\"Position function array must have 3 elements\");\n      }\n      if (typeof positionFunction[0] !== \"function\" || typeof positionFunction[1] !== \"function\" || typeof positionFunction[2] !== \"function\") {\n        throw new Error(\"Position function array must have 3 functions\");\n      }\n      this._positionFunctionX = positionFunction[0];\n      this._positionFunctionY = positionFunction[1];\n      this._positionFunctionZ = positionFunction[2];\n    } else {\n      this._positionFunctionX = positionFunction;\n      this._positionFunctionY = positionFunction;\n      this._positionFunctionZ = positionFunction;\n    }\n    this.updateAnchorPairs();\n  }\n  get positionFunction() {\n    if (this._positionFunctionX === this._positionFunctionY && this._positionFunctionX === this._positionFunctionZ) {\n      return this._positionFunctionX;\n    }\n    return [\n      this._positionFunctionX,\n      this._positionFunctionY,\n      this._positionFunctionZ\n    ];\n  }\n  set positionFunctionX(positionFunctionX) {\n    this._positionFunctionX = positionFunctionX;\n    this.updateAnchorPairs();\n  }\n  get positionFunctionX() {\n    return this._positionFunctionX;\n  }\n  set positionFunctionY(positionFunctionY) {\n    this._positionFunctionY = positionFunctionY;\n    this.updateAnchorPairs();\n  }\n  get positionFunctionY() {\n    return this._positionFunctionY;\n  }\n  set positionFunctionZ(positionFunctionZ) {\n    this._positionFunctionZ = positionFunctionZ;\n    this.updateAnchorPairs();\n  }\n  get positionFunctionZ() {\n    return this._positionFunctionZ;\n  }\n  get anchorPoints() {\n    return this._anchorPoints;\n  }\n  set anchorPoints(anchorPoints) {\n    this._anchorPoints = anchorPoints;\n    this.updateAnchorPairs();\n  }\n  updateAnchorPairs() {\n    this._anchorPairs = [];\n    const anchorPointsLength = this.connectLastAndFirstAnchor ? this.anchorPoints.length : this.anchorPoints.length - 1;\n    for (let i = 0; i < anchorPointsLength; i++) {\n      const pair = [\n        this.anchorPoints[i],\n        this.anchorPoints[(i + 1) % this.anchorPoints.length]\n      ];\n      this._anchorPairs.push(pair);\n    }\n    this.points = this._anchorPairs.map((pair, i) => {\n      const p1position = pair[0] ? pair[0].position : [0, 0, 0];\n      const p2position = pair[1] ? pair[1].position : [0, 0, 0];\n      const shouldInvertEase = this.shouldInvertEaseForSegment(i);\n      return vectorsOnLine(\n        p1position,\n        p2position,\n        this._numPoints,\n        shouldInvertEase ? true : false,\n        this.positionFunctionX,\n        this.positionFunctionY,\n        this.positionFunctionZ\n      ).map(\n        (p) => new ColorPoint({ xyz: p, invertedLightness: this._invertedLightness })\n      );\n    });\n  }\n  addAnchorPoint({\n    xyz,\n    color,\n    insertAtIndex\n  }) {\n    const newAnchor = new ColorPoint({\n      xyz,\n      color,\n      invertedLightness: this._invertedLightness\n    });\n    if (insertAtIndex !== void 0) {\n      this.anchorPoints.splice(insertAtIndex, 0, newAnchor);\n    } else {\n      this.anchorPoints.push(newAnchor);\n    }\n    this.updateAnchorPairs();\n    return newAnchor;\n  }\n  removeAnchorPoint({\n    point,\n    index\n  }) {\n    if (!point && index === void 0) {\n      throw new Error(\"Must provide a point or index\");\n    }\n    if (this.anchorPoints.length < 3) {\n      throw new Error(\"Must have at least two anchor points\");\n    }\n    let apid;\n    if (index !== void 0) {\n      apid = index;\n    } else if (point) {\n      apid = this.anchorPoints.indexOf(point);\n    }\n    if (apid > -1 && apid < this.anchorPoints.length) {\n      this.anchorPoints.splice(apid, 1);\n      this.updateAnchorPairs();\n    } else {\n      throw new Error(\"Point not found\");\n    }\n  }\n  updateAnchorPoint({\n    point,\n    pointIndex,\n    xyz,\n    color\n  }) {\n    if (pointIndex !== void 0) {\n      point = this.anchorPoints[pointIndex];\n    }\n    if (!point) {\n      throw new Error(\"Must provide a point or pointIndex\");\n    }\n    if (!xyz && !color) {\n      throw new Error(\"Must provide a new xyz position or color\");\n    }\n    if (xyz)\n      point.position = xyz;\n    if (color)\n      point.hsl = color;\n    this.updateAnchorPairs();\n    return point;\n  }\n  getClosestAnchorPoint({\n    xyz,\n    hsl,\n    maxDistance = 1\n  }) {\n    if (!xyz && !hsl) {\n      throw new Error(\"Must provide a xyz or hsl\");\n    }\n    let distances;\n    if (xyz) {\n      distances = this.anchorPoints.map(\n        (anchor) => distance(anchor.position, xyz)\n      );\n    } else if (hsl) {\n      distances = this.anchorPoints.map(\n        (anchor) => distance(anchor.hsl, hsl, true)\n      );\n    }\n    const minDistance = Math.min(...distances);\n    if (minDistance > maxDistance) {\n      return null;\n    }\n    const closestAnchorIndex = distances.indexOf(minDistance);\n    return this.anchorPoints[closestAnchorIndex] || null;\n  }\n  set closedLoop(newStatus) {\n    this.connectLastAndFirstAnchor = newStatus;\n    this.updateAnchorPairs();\n  }\n  get closedLoop() {\n    return this.connectLastAndFirstAnchor;\n  }\n  set invertedLightness(newStatus) {\n    this._invertedLightness = newStatus;\n    this.updateAnchorPairs();\n  }\n  get invertedLightness() {\n    return this._invertedLightness;\n  }\n  /**\n   * Returns a flattened array of all points across all segments,\n   * removing duplicated anchor points at segment boundaries.\n   *\n   * Since anchor points exist at both the end of one segment and\n   * the beginning of the next, this method keeps only one instance of each.\n   * The filter logic keeps the first point (index 0) and then filters out\n   * points whose indices are multiples of the segment size (_numPoints),\n   * which are the anchor points at the start of each segment (except the first).\n   *\n   * This approach ensures we get all unique points in the correct order\n   * while avoiding duplicated anchor points.\n   *\n   * @returns {ColorPoint[]} A flat array of unique ColorPoint instances\n   */\n  get flattenedPoints() {\n    return this.points.flat().filter((p, i) => i != 0 ? i % this._numPoints : true);\n  }\n  get colors() {\n    const colors = this.flattenedPoints.map((p) => p.color);\n    if (this.connectLastAndFirstAnchor && this._anchorPoints.length !== 2) {\n      colors.pop();\n    }\n    return colors;\n  }\n  cssColors(mode = \"hsl\") {\n    const methods = {\n      hsl: (p) => p.hslCSS,\n      oklch: (p) => p.oklchCSS,\n      lch: (p) => p.lchCSS\n    };\n    const cssColors = this.flattenedPoints.map(methods[mode]);\n    if (this.connectLastAndFirstAnchor) {\n      cssColors.pop();\n    }\n    return cssColors;\n  }\n  get colorsCSS() {\n    return this.cssColors(\"hsl\");\n  }\n  get colorsCSSlch() {\n    return this.cssColors(\"lch\");\n  }\n  get colorsCSSoklch() {\n    return this.cssColors(\"oklch\");\n  }\n  shiftHue(hShift = 20) {\n    this.anchorPoints.forEach((p) => p.shiftHue(hShift));\n    this.updateAnchorPairs();\n  }\n  /**\n   * Returns a color at a specific position along the entire color line (0-1)\n   * Treats all segments as one continuous path, respecting easing functions\n   * @param t Position along the line (0-1), where 0 is start and 1 is end\n   * @returns ColorPoint at the specified position\n   * @example\n   * getColorAt(0) // Returns color at the very beginning\n   * getColorAt(0.5) // Returns color at the middle of the entire journey\n   * getColorAt(1) // Returns color at the very end\n   */\n  getColorAt(t) {\n    var _a;\n    if (t < 0 || t > 1) {\n      throw new Error(\"Position must be between 0 and 1\");\n    }\n    if (this.anchorPoints.length === 0) {\n      throw new Error(\"No anchor points available\");\n    }\n    const totalSegments = this.connectLastAndFirstAnchor ? this.anchorPoints.length : this.anchorPoints.length - 1;\n    const effectiveSegments = this.connectLastAndFirstAnchor && this.anchorPoints.length === 2 ? 2 : totalSegments;\n    const segmentPosition = t * effectiveSegments;\n    const segmentIndex = Math.floor(segmentPosition);\n    const localT = segmentPosition - segmentIndex;\n    const actualSegmentIndex = segmentIndex >= effectiveSegments ? effectiveSegments - 1 : segmentIndex;\n    const actualLocalT = segmentIndex >= effectiveSegments ? 1 : localT;\n    const pair = this._anchorPairs[actualSegmentIndex];\n    if (!pair || pair.length < 2 || !pair[0] || !pair[1]) {\n      return new ColorPoint({\n        color: ((_a = this.anchorPoints[0]) == null ? void 0 : _a.color) || [0, 0, 0],\n        invertedLightness: this._invertedLightness\n      });\n    }\n    const p1position = pair[0].position;\n    const p2position = pair[1].position;\n    const shouldInvertEase = this.shouldInvertEaseForSegment(actualSegmentIndex);\n    const xyz = vectorOnLine(\n      actualLocalT,\n      p1position,\n      p2position,\n      shouldInvertEase,\n      this._positionFunctionX,\n      this._positionFunctionY,\n      this._positionFunctionZ\n    );\n    return new ColorPoint({\n      xyz,\n      invertedLightness: this._invertedLightness\n    });\n  }\n  /**\n   * Determines whether easing should be inverted for a given segment\n   * @param segmentIndex The index of the segment\n   * @returns Whether easing should be inverted\n   */\n  shouldInvertEaseForSegment(segmentIndex) {\n    return !!(segmentIndex % 2 || this.connectLastAndFirstAnchor && this.anchorPoints.length === 2 && segmentIndex === 0);\n  }\n};\nvar { p5 } = globalThis;\nif (p5 && p5.VERSION && p5.VERSION.startsWith(\"1.\")) {\n  console.info(\"p5 < 1.x detected, adding poline to p5 prototype\");\n  const poline = new Poline();\n  p5.prototype.poline = poline;\n  const polineColors = () => poline.colors.map(\n    (c) => `hsl(${Math.round(c[0])},${c[1] * 100}%,${c[2] * 100}%)`\n  );\n  p5.prototype.registerMethod(\"polineColors\", polineColors);\n  globalThis.poline = poline;\n  globalThis.polineColors = polineColors;\n}\nexport {\n  ColorPoint,\n  Poline,\n  hslToPoint,\n  pointToHSL,\n  positionFunctions,\n  randomHSLPair,\n  randomHSLTriple\n};\n//# sourceMappingURL=index.mjs.map\n","import { Show, For, createMemo, createResource, onMount, onCleanup, Suspense } from \"solid-js\";\nimport { A } from \"@solidjs/router\";\nimport { Poline } from \"poline\";\nimport type { TrackedFilesystem } from \"%/v1/filesystem_pb\";\nimport { filesystemClient, subvolumeClient, scrubClient } from \"@/api/client\";\nimport { formatBytes, countBackups, formatNumber } from \"@/lib/utils\";\nimport { Tooltip, FormattedBytes, StatRow } from \"@/components/ui\";\nimport { uiSettings } from \"@/stores/ui\";\n\n// Anchor colors for each allocation type\nconst ALLOC_TYPE_ANCHORS: Record<string, [[number, number, number], [number, number, number]]> = {\n  Data: [[210, 0.80, 0.40], [220, 0.55, 0.65]],\n  Metadata: [[145, 0.70, 0.35], [155, 0.50, 0.60]],\n  System: [[30, 0.85, 0.45], [40, 0.60, 0.60]],\n  Unallocated: [[280, 0.50, 0.45], [290, 0.35, 0.65]],\n};\n\nfunction shuffleForContrast<T>(arr: T[]): T[] {\n  if (arr.length <= 2) return arr;\n  const result: T[] = [];\n  const mid = Math.ceil(arr.length / 2);\n  for (let i = 0; i < mid; i++) {\n    result.push(arr[i]);\n    if (i + mid < arr.length) result.push(arr[i + mid]);\n  }\n  return result;\n}\n\nfunction getUsageBarColor(allocType: string): string {\n  const anchors = ALLOC_TYPE_ANCHORS[allocType] || ALLOC_TYPE_ANCHORS.Data;\n  const [h, s, l] = anchors[1];\n  return `hsl(${h}, ${s * 100}%, ${l * 100}%)`;\n}\n\nfunction generateTypeColors(devicePaths: string[], allocType: string): Map<string, string> {\n  const colors = new Map<string, string>();\n  const count = devicePaths.length;\n  if (count === 0) return colors;\n  const anchors = ALLOC_TYPE_ANCHORS[allocType] || ALLOC_TYPE_ANCHORS.Data;\n  if (count === 1) {\n    const [h, s, l] = anchors[0];\n    colors.set(devicePaths[0], `hsl(${h}, ${s * 100}%, ${l * 100}%)`);\n    return colors;\n  }\n  const poline = new Poline({ anchorColors: anchors, numPoints: count });\n  const palette = shuffleForContrast(poline.colorsCSS);\n  devicePaths.forEach((path, i) => colors.set(path, palette[i] || \"#6b7280\"));\n  return colors;\n}\n\nexport function OverviewTab(props: { fs: TrackedFilesystem }) {\n  // Each data type is its own resource - they load independently\n  const [usage, { refetch: refetchUsage }] = createResource(\n    () => props.fs.path,\n    (path) => filesystemClient.getFilesystemUsage({ devicePath: path }).then(r => r.usage)\n  );\n  const [subvolumes, { refetch: refetchSubvols }] = createResource(\n    () => props.fs.path,\n    (path) => subvolumeClient.listSubvolumes({ mountPath: path }).then(r => r.subvolumes)\n  );\n  const [scrubData, { refetch: refetchScrub }] = createResource(\n    () => props.fs.path,\n    (path) => scrubClient.getScrubStatus({ devicePath: path })\n  );\n  const [errors, { refetch: refetchErrors }] = createResource(\n    () => props.fs.path,\n    (path) => filesystemClient.getErrors({ device: path, limit: 1000 }).then(r => r.errors)\n  );\n  const [deviceStats, { refetch: refetchStats }] = createResource(\n    () => props.fs.path,\n    (path) => filesystemClient.getDeviceStats({ devicePath: path }).then(r => r.devices)\n  );\n\n  onMount(() => {\n    const handler = () => {\n      refetchUsage();\n      refetchSubvols();\n      refetchScrub();\n      refetchErrors();\n      refetchStats();\n    };\n    window.addEventListener(\"fs-refresh\", handler);\n    onCleanup(() => window.removeEventListener(\"fs-refresh\", handler));\n  });\n\n  const showRaw = () => uiSettings().showRawBytes;\n\n  // Use .latest to avoid suspending - shows stale data while refreshing\n  const subvolCount = createMemo(() => {\n    const subs = subvolumes.latest;\n    if (!subs) return 0;\n    return subs.length - countBackups(subs, props.fs.btrbkSnapshotDir);\n  });\n  const backupCount = createMemo(() => {\n    const subs = subvolumes.latest;\n    if (!subs) return 0;\n    return countBackups(subs, props.fs.btrbkSnapshotDir);\n  });\n  const errorCount = createMemo(() => errors.latest?.length ?? 0);\n\n  const scrubInfo = createMemo(() => {\n    const data = scrubData.latest;\n    if (!data) return { text: \"...\", class: \"text-text-muted\" };\n    if (data.isRunning) return { text: \"running\", class: \"text-primary\" };\n    if (!data.progress) return { text: \"never run\", class: \"text-text-muted\" };\n    const s = data.progress;\n    const hasErrors = s.uncorrectableErrors > 0 || s.readErrors > 0 || s.csumErrors > 0;\n    if (s.status === \"finished\") {\n      return hasErrors\n        ? { text: \"errors found\", class: \"text-error\" }\n        : { text: \"ok\", class: \"text-success\" };\n    }\n    return { text: s.status || \"unknown\", class: \"text-text-tertiary\" };\n  });\n\n  const deviceCount = createMemo(() => {\n    const stats = deviceStats.latest;\n    const u = usage.latest;\n    let allocDeviceCount = 0;\n    if (u) {\n      const paths = new Set<string>();\n      for (const alloc of u.allocations) {\n        for (const dev of alloc.devices) paths.add(dev.devicePath);\n      }\n      allocDeviceCount = paths.size;\n    }\n    return Math.max(stats?.length || 0, allocDeviceCount);\n  });\n\n  return (\n    <div class=\"space-y-3\">\n      {/* Summary Cards - use .latest for instant render */}\n      <div class=\"grid grid-cols-4 gap-2\">\n        <A href={`/fs/${props.fs.id}/subvolumes`} class=\"block\">\n          <div class=\"bg-bg-surface border border-border-default p-2 text-center hover:bg-bg-surface-raised\">\n            <div class=\"text-xs text-text-tertiary\">subvolumes</div>\n            <div class=\"text-sm font-medium text-text-default\">{formatNumber(subvolCount())}</div>\n          </div>\n        </A>\n        <Show when={props.fs.btrbkSnapshotDir} fallback={\n          <div class=\"bg-bg-surface border border-border-default p-2 text-center\">\n            <div class=\"text-xs text-text-tertiary\">backups</div>\n            <div class=\"text-sm font-medium text-text-muted\">-</div>\n          </div>\n        }>\n          <A href={`/fs/${props.fs.id}/subvolumes`} class=\"block\">\n            <div class=\"bg-bg-surface border border-border-default p-2 text-center hover:bg-bg-surface-raised\">\n              <div class=\"text-xs text-text-tertiary\">backups</div>\n              <div class=\"text-sm font-medium text-text-default\">{formatNumber(backupCount())}</div>\n            </div>\n          </A>\n        </Show>\n        <A href={`/fs/${props.fs.id}/errors`} class=\"block\">\n          <div class=\"bg-bg-surface border border-border-default p-2 text-center hover:bg-bg-surface-raised\">\n            <div class=\"text-xs text-text-tertiary\">errors</div>\n            <div class={`text-sm font-medium ${errorCount() > 0 ? \"text-error\" : \"text-success\"}`}>\n              {formatNumber(errorCount())}\n            </div>\n          </div>\n        </A>\n        <A href={`/fs/${props.fs.id}/maintenance`} class=\"block\">\n          <div class=\"bg-bg-surface border border-border-default p-2 text-center hover:bg-bg-surface-raised\">\n            <div class=\"text-xs text-text-tertiary\">scrub</div>\n            <div class={`text-sm font-medium ${scrubInfo().class}`}>{scrubInfo().text}</div>\n          </div>\n        </A>\n      </div>\n\n      {/* Filesystem Info + Last Scrub */}\n      <div class=\"grid grid-cols-2 gap-2\">\n        {/* Filesystem Info */}\n        <div class=\"bg-bg-surface border border-border-default\">\n          <div class=\"px-2 py-1 bg-bg-surface-raised border-b border-border-subtle text-xs text-text-tertiary\">\n            filesystem\n          </div>\n          <table class=\"w-full text-xs\">\n            <tbody>\n              <StatRow label=\"path\" align=\"top\">\n                <span class=\"font-mono\">{props.fs.path}</span>\n              </StatRow>\n              <Show when={props.fs.label}>\n                <StatRow label=\"label\" align=\"top\">{props.fs.label}</StatRow>\n              </Show>\n              <Show when={props.fs.btrbkSnapshotDir}>\n                <StatRow label=\"btrbk\" align=\"top\">\n                  <span class=\"font-mono\">{props.fs.btrbkSnapshotDir}</span>\n                </StatRow>\n              </Show>\n              <StatRow label=\"devices\" align=\"top\">{formatNumber(deviceCount())}</StatRow>\n            </tbody>\n          </table>\n        </div>\n\n        {/* Last Scrub */}\n        <div class=\"bg-bg-surface border border-border-default\">\n          <div class=\"px-2 py-1 bg-bg-surface-raised border-b border-border-subtle text-xs text-text-tertiary\">\n            last scrub\n          </div>\n          <Suspense fallback={<div class=\"px-2 py-1 text-xs text-text-muted\">loading...</div>}>\n            <Show when={scrubData()} fallback={<div class=\"px-2 py-1 text-xs text-text-muted\">loading...</div>}>\n              {(data) => (\n                <Show when={data().progress} fallback={<div class=\"px-2 py-1 text-xs text-text-muted\">never run</div>}>\n                  {(s) => {\n                    const scrub = () => s();\n                    return (\n                      <table class=\"w-full text-xs\">\n                        <tbody>\n                          <StatRow label=\"status\" align=\"top\">\n                            <span class={scrubInfo().class}>{scrubInfo().text}</span>\n                          </StatRow>\n                          <Show when={scrub().startedAt > 0n}>\n                            <StatRow label=\"started\" align=\"top\">\n                              {new Date(Number(scrub().startedAt) * 1000).toLocaleString()}\n                            </StatRow>\n                          </Show>\n                          <Show when={scrub().duration}>\n                            <StatRow label=\"duration\" align=\"top\">{scrub().duration}</StatRow>\n                          </Show>\n                          <StatRow label=\"errors\" align=\"top\">\n                            <Show when={scrub().uncorrectableErrors > 0 || scrub().readErrors > 0 || scrub().csumErrors > 0} fallback={\n                              <span class=\"text-success\">none</span>\n                            }>\n                              <span class=\"text-error\">\n                                {scrub().uncorrectableErrors > 0 && `uncorrectable:${formatNumber(scrub().uncorrectableErrors)} `}\n                                {scrub().readErrors > 0 && `read:${formatNumber(scrub().readErrors)} `}\n                                {scrub().csumErrors > 0 && `csum:${formatNumber(scrub().csumErrors)}`}\n                              </span>\n                            </Show>\n                          </StatRow>\n                        </tbody>\n                      </table>\n                    );\n                  }}\n                </Show>\n              )}\n            </Show>\n          </Suspense>\n        </div>\n      </div>\n\n      {/* Space & Allocations - separate Suspense */}\n      <Suspense fallback={<div class=\"bg-bg-surface border border-border-default p-2 text-xs text-text-tertiary\">loading usage...</div>}>\n        <Show when={usage()}>\n          {(u) => <SpaceAllocationsCard usage={u()} showRaw={showRaw()} />}\n        </Show>\n      </Suspense>\n\n      {/* Device Stats - separate Suspense */}\n      <Suspense fallback={<div class=\"bg-bg-surface border border-border-default p-2 text-xs text-text-tertiary\">loading devices...</div>}>\n        <Show when={deviceStats() && usage()}>\n          <DevicesCard usage={usage()!} deviceStats={deviceStats()!} showRaw={showRaw()} />\n        </Show>\n      </Suspense>\n    </div>\n  );\n}\n\nfunction SpaceAllocationsCard(props: { usage: any; showRaw: boolean }) {\n  const deviceColors = createMemo(() => {\n    const colors = new Map<string, string>();\n    for (const alloc of props.usage.allocations) {\n      if (!alloc.devices || alloc.devices.length === 0) continue;\n      const paths = alloc.devices.map((d: any) => d.devicePath);\n      const typeColors = generateTypeColors(paths, alloc.type);\n      for (const [path, color] of typeColors) {\n        colors.set(`${alloc.type}:${path}`, color);\n      }\n    }\n    return colors;\n  });\n\n  const getDeviceColor = (allocType: string, devicePath: string) =>\n    deviceColors().get(`${allocType}:${devicePath}`) || \"#6b7280\";\n\n  const totalSpace = createMemo(() => ({\n    total: props.usage.deviceSize,\n    allocated: props.usage.deviceAllocated,\n    unallocated: props.usage.deviceUnallocated,\n    used: props.usage.used,\n  }));\n\n  const allocatedPct = createMemo(() => {\n    const space = totalSpace();\n    if (space.total === 0n) return 0;\n    return Number((space.allocated * 100n) / space.total);\n  });\n\n  const allocations = createMemo(() =>\n    props.usage.allocations.filter((a: any) => a.type !== \"GlobalReserve\" && !a.type.toLowerCase().includes(\"free\"))\n  );\n\n  const globalReserve = createMemo(() =>\n    props.usage.allocations.find((a: any) => a.type === \"GlobalReserve\")\n  );\n\n  return (\n    <div class=\"bg-bg-surface border border-border-default\">\n      <div class=\"px-2 py-1 bg-bg-surface-raised border-b border-border-subtle text-xs text-text-tertiary\">\n        space & allocations\n      </div>\n      <div class=\"flex\">\n        {/* Vertical meters */}\n        <div class=\"p-2 border-r border-border-subtle\">\n          <div class=\"flex gap-2\" style={{ height: \"120px\" }}>\n            <For each={allocations().filter((a: any) => a.type !== \"Unallocated\")}>\n              {(alloc) => {\n                const pct = () => alloc.size > 0n ? Number((alloc.used * 100n) / alloc.size) : 0;\n                const deviceTooltip = () => alloc.devices.map((d: any) => `${d.devicePath.split(\"/\").pop()}: ${formatBytes(d.size)}`).join(\" â€¢ \");\n                return (\n                  <Tooltip text={`${alloc.type} (${alloc.profile}): ${formatBytes(alloc.used)} / ${formatBytes(alloc.size)} (${pct()}%)\\n${deviceTooltip()}`}>\n                    <div class=\"flex flex-col items-center h-full\">\n                      <div class=\"w-5 flex-1 rounded overflow-hidden relative bg-bg-muted\">\n                        <div class=\"absolute bottom-0 left-0 right-0 flex flex-col\" style={{ height: `${pct()}%`, \"min-height\": pct() > 0 ? \"2px\" : \"0\" }}>\n                          <Show when={alloc.devices.length > 0} fallback={<div class=\"w-full h-full\" style={{ \"background-color\": getUsageBarColor(alloc.type) }} />}>\n                            <For each={alloc.devices}>\n                              {(dev: any) => (\n                                <div style={{ \"flex-grow\": Number(dev.size), \"background-color\": getDeviceColor(alloc.type, dev.devicePath) }} class=\"w-full min-h-[1px]\" />\n                              )}\n                            </For>\n                          </Show>\n                        </div>\n                      </div>\n                      <div class=\"text-[10px] text-text-tertiary mt-1 text-center leading-tight\">\n                        <div class=\"font-medium text-text-default\">{pct()}%</div>\n                        <div>{alloc.type.slice(0, 4)}</div>\n                      </div>\n                    </div>\n                  </Tooltip>\n                );\n              }}\n            </For>\n            {/* Unallocated */}\n            {(() => {\n              const unalloc = props.usage.allocations.find((a: any) => a.type === \"Unallocated\");\n              if (!unalloc) return null;\n              const rawTotal = () => unalloc.devices.reduce((sum: bigint, d: any) => sum + d.size, 0n);\n              const unallocPct = () => totalSpace().total > 0n ? Number((rawTotal() * 100n) / totalSpace().total) : 0;\n              return (\n                <Tooltip text={`Unallocated: ${formatBytes(rawTotal())} (${unallocPct()}% of total)`}>\n                  <div class=\"flex flex-col items-center h-full\">\n                    <div class=\"w-5 flex-1 rounded overflow-hidden relative bg-bg-muted\">\n                      <div class=\"absolute bottom-0 left-0 right-0\" style={{ height: `${unallocPct()}%`, \"min-height\": unallocPct() > 0 ? \"2px\" : \"0\", \"background-color\": getUsageBarColor(\"Unallocated\") }} />\n                    </div>\n                    <div class=\"text-[10px] text-text-tertiary mt-1 text-center leading-tight\">\n                      <div class=\"font-medium text-text-default\">{unallocPct()}%</div>\n                      <div>Free</div>\n                    </div>\n                  </div>\n                </Tooltip>\n              );\n            })()}\n          </div>\n        </div>\n        {/* Stats */}\n        <div class=\"flex-1 flex\">\n          <table class=\"text-xs flex-1\">\n            <tbody>\n              <tr class=\"border-b border-border-subtle\">\n                <td class=\"px-1.5 py-0.5 text-text-tertiary\">total</td>\n                <td class=\"px-1.5 py-0.5 font-mono text-text-default text-right\"><FormattedBytes bytes={totalSpace().total} showRaw={props.showRaw} /></td>\n              </tr>\n              <tr class=\"border-b border-border-subtle\">\n                <td class=\"px-1.5 py-0.5 text-text-tertiary\">allocated <span class=\"text-text-muted\">({allocatedPct()}%)</span></td>\n                <td class=\"px-1.5 py-0.5 font-mono text-text-default text-right\"><FormattedBytes bytes={totalSpace().allocated} showRaw={props.showRaw} /></td>\n              </tr>\n              <tr class=\"border-b border-border-subtle\">\n                <td class=\"px-1.5 py-0.5 text-text-tertiary\">unallocated</td>\n                <td class=\"px-1.5 py-0.5 font-mono text-text-default text-right\"><FormattedBytes bytes={totalSpace().unallocated} showRaw={props.showRaw} /></td>\n              </tr>\n              <tr class=\"border-b border-border-subtle\">\n                <td class=\"px-1.5 py-0.5 text-text-tertiary\">used</td>\n                <td class=\"px-1.5 py-0.5 font-mono text-text-default text-right\"><FormattedBytes bytes={totalSpace().used} showRaw={props.showRaw} /></td>\n              </tr>\n              <Show when={props.usage.deviceSlack > 0n}>\n                <tr class=\"border-b border-border-subtle\">\n                  <td class=\"px-1.5 py-0.5 text-text-tertiary\">slack</td>\n                  <td class=\"px-1.5 py-0.5 font-mono text-text-default text-right\"><FormattedBytes bytes={props.usage.deviceSlack} showRaw={props.showRaw} /></td>\n                </tr>\n              </Show>\n              <Show when={globalReserve()}>\n                {(gr) => (\n                  <tr>\n                    <td class=\"px-1.5 py-0.5 text-text-tertiary\">reserve</td>\n                    <td class=\"px-1.5 py-0.5 font-mono text-text-default text-right\"><FormattedBytes bytes={gr().used} showRaw={props.showRaw} />/<FormattedBytes bytes={gr().size} showRaw={props.showRaw} /></td>\n                  </tr>\n                )}\n              </Show>\n            </tbody>\n          </table>\n          <table class=\"text-xs flex-1 border-l border-border-subtle\">\n            <tbody>\n              <For each={allocations().filter((a: any) => a.type !== \"Unallocated\")}>\n                {(alloc) => {\n                  const ratio = () => alloc.type === \"Data\" ? props.usage.dataRatio : props.usage.metadataRatio;\n                  return (\n                    <>\n                      <tr class=\"border-b border-border-subtle\">\n                        <td class=\"px-1.5 py-0.5 text-text-tertiary\">{alloc.type.toLowerCase()}</td>\n                        <td class=\"px-1.5 py-0.5 font-mono text-text-default text-right\"><FormattedBytes bytes={alloc.used} showRaw={props.showRaw} /><span class=\"text-text-muted\">/</span><FormattedBytes bytes={alloc.size} showRaw={props.showRaw} /></td>\n                      </tr>\n                      <tr class=\"border-b border-border-subtle\">\n                        <td class=\"px-1.5 py-0.5 text-text-muted pl-3\">profile</td>\n                        <td class=\"px-1.5 py-0.5 text-text-tertiary text-right\">{alloc.profile} <span class=\"text-text-muted\">({ratio()}x)</span></td>\n                      </tr>\n                    </>\n                  );\n                }}\n              </For>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction DevicesCard(props: { usage: any; deviceStats: any; showRaw: boolean }) {\n  const deviceList = createMemo(() => {\n    const hasRealDevices = props.deviceStats.length > 0 && props.deviceStats[0].devicePath && props.deviceStats[0].devicePath !== \"total\";\n    if (hasRealDevices) {\n      return props.deviceStats.map((d: any) => ({\n        path: d.devicePath,\n        totalBytes: d.totalBytes,\n        deviceId: d.deviceId,\n        writeErrors: d.writeErrors,\n        readErrors: d.readErrors,\n        flushErrors: d.flushErrors,\n        corruptionErrors: d.corruptionErrors,\n        generationErrors: d.generationErrors,\n      }));\n    }\n    const devMap = new Map<string, bigint>();\n    for (const alloc of props.usage.allocations) {\n      for (const dev of alloc.devices) {\n        if (dev.devicePath) devMap.set(dev.devicePath, (devMap.get(dev.devicePath) || 0n) + dev.size);\n      }\n    }\n    if (devMap.size === 0) {\n      return [{ path: \"all devices\", totalBytes: props.usage.deviceSize, deviceId: undefined, writeErrors: 0n, readErrors: 0n, flushErrors: 0n, corruptionErrors: 0n, generationErrors: 0n }];\n    }\n    return Array.from(devMap.entries()).map(([path, total]) => ({\n      path, totalBytes: total, deviceId: undefined, writeErrors: 0n, readErrors: 0n, flushErrors: 0n, corruptionErrors: 0n, generationErrors: 0n,\n    }));\n  });\n\n  const getDeviceAllocations = (devPath: string) => {\n    if (devPath === \"all devices\") {\n      return props.usage.allocations.filter((a: any) => a.type !== \"GlobalReserve\").map((alloc: any) => ({ type: alloc.type, profile: alloc.profile, size: alloc.size }));\n    }\n    return props.usage.allocations\n      .map((alloc: any) => {\n        if (!alloc.devices || alloc.devices.length === 0) return null;\n        const devAlloc = alloc.devices.find((d: any) => d.devicePath === devPath);\n        if (!devAlloc) return null;\n        return { type: alloc.type, profile: alloc.profile, size: devAlloc.size };\n      })\n      .filter(Boolean);\n  };\n\n  return (\n    <div class=\"bg-bg-surface border border-border-default\">\n      <div class=\"px-2 py-1 bg-bg-surface-raised border-b border-border-subtle text-xs text-text-tertiary\">devices</div>\n      <div class=\"divide-y divide-border-subtle\">\n        <For each={deviceList()}>\n          {(dev) => {\n            const deviceAllocations = () => getDeviceAllocations(dev.path);\n            const totalErrors = () => dev.writeErrors + dev.readErrors + dev.flushErrors + dev.corruptionErrors + dev.generationErrors;\n            const allocTotal = () => deviceAllocations().reduce((sum: bigint, a: any) => sum + a.size, 0n);\n            const pctWidth = (size: bigint) => {\n              const total = allocTotal();\n              if (total === 0n) return 0;\n              return Number((size * 10000n) / total) / 100;\n            };\n            return (\n              <div class=\"p-2\">\n                <div class=\"flex items-center justify-between text-xs mb-1\">\n                  <div class=\"flex items-center gap-2\">\n                    <span class=\"font-mono text-text-default\">{dev.path}</span>\n                    <Show when={dev.deviceId}><span class=\"text-text-muted text-[10px]\">id:{dev.deviceId}</span></Show>\n                  </div>\n                  <div class=\"flex items-center gap-2\">\n                    <Show when={totalErrors() > 0n} fallback={<span class=\"text-success text-[10px]\">0 errors</span>}>\n                      <Tooltip text={`write:${formatNumber(dev.writeErrors)} read:${formatNumber(dev.readErrors)} flush:${formatNumber(dev.flushErrors)} corruption:${formatNumber(dev.corruptionErrors)} generation:${formatNumber(dev.generationErrors)}`}>\n                        <span class=\"text-error text-[10px]\">{formatNumber(totalErrors())} errors</span>\n                      </Tooltip>\n                    </Show>\n                    <span class=\"text-text-tertiary\"><FormattedBytes bytes={dev.totalBytes} showRaw={props.showRaw} /></span>\n                  </div>\n                </div>\n                <div class=\"h-2 bg-bg-muted rounded overflow-hidden flex mb-1\">\n                  <For each={deviceAllocations()}>\n                    {(alloc: any) => (\n                      <div title={`${alloc.type}: ${formatBytes(alloc.size)}`} style={{ width: `${pctWidth(alloc.size)}%`, \"background-color\": getUsageBarColor(alloc.type) }} class=\"h-full border-r border-bg-surface/50 last:border-r-0 hover:brightness-110 transition-all cursor-pointer\" />\n                    )}\n                  </For>\n                </div>\n                <div class=\"flex flex-wrap gap-x-3 text-[10px] text-text-tertiary\">\n                  <For each={deviceAllocations().filter((a: any) => a.type !== \"Unallocated\")}>\n                    {(alloc: any) => (\n                      <span><span class=\"inline-block w-2 h-2 rounded-sm mr-0.5\" style={{ \"background-color\": getUsageBarColor(alloc.type) }} />{alloc.type.slice(0, 4)} {formatBytes(alloc.size)}</span>\n                    )}\n                  </For>\n                  {(() => {\n                    const unalloc = deviceAllocations().find((a: any) => a.type === \"Unallocated\");\n                    if (!unalloc) return null;\n                    return <span><span class=\"inline-block w-2 h-2 rounded-sm mr-0.5\" style={{ \"background-color\": getUsageBarColor(\"Unallocated\") }} />Free {formatBytes(unalloc.size)}</span>;\n                  })()}\n                </div>\n              </div>\n            );\n          }}\n        </For>\n      </div>\n    </div>\n  );\n}\n","import { createSignal, createMemo, For, Show, onMount, onCleanup } from \"solid-js\";\nimport { createStore, reconcile, produce } from \"solid-js/store\";\nimport type { TrackedFilesystem } from \"%/v1/filesystem_pb\";\nimport { formatBytes } from \"@/lib/utils\";\nimport { uiSettings } from \"@/stores/ui\";\nimport { usageClient } from \"@/api/client\";\n\ninterface TreeNode {\n  name: string;\n  fullPath: string;\n  isDir: boolean;\n  samples: bigint;\n  estimatedSize: bigint;\n  percentage: number;\n  childCount: number;\n  children?: TreeNode[];\n  expanded?: boolean;\n  loading?: boolean;\n}\n\nexport function UsageTab(props: { fs: TrackedFilesystem }) {\n  const fsPath = () => props.fs.path;\n\n  // Sampling state\n  const [sortBy, setSortBy] = createSignal<\"size\" | \"name\" | \"samples\">(\"size\");\n  const [sortDesc, setSortDesc] = createSignal(true);\n  const [autoRefreshPaused, setAutoRefreshPaused] = createSignal(false);\n  const [treeData, setTreeData] = createStore<TreeNode[]>([]);\n  const [expandedPaths, setExpandedPaths] = createSignal<Set<string>>(new Set());\n  let prevSampleCount = 0;\n  let prevSessionId = \"\";\n\n  // Status - use signal instead of resource to avoid loading state flicker\n  const [statusData, setStatusData] = createSignal<Awaited<ReturnType<typeof usageClient.getSamplingStatus>> | null>(null);\n  const [initialLoading, setInitialLoading] = createSignal(true);\n  const [treeLoading, setTreeLoading] = createSignal(false);\n\n  const fetchStatus = async () => {\n    try {\n      const resp = await usageClient.getSamplingStatus({ fsPath: fsPath() });\n      setStatusData(resp);\n      return resp;\n    } catch (e) {\n      console.error(\"Failed to fetch status:\", e);\n      return null;\n    } finally {\n      setInitialLoading(false);\n    }\n  };\n\n  // Total size for percentage calculation\n  const [rootTotalSize, setRootTotalSize] = createSignal(0n);\n  const [rootTotalSamples, setRootTotalSamples] = createSignal(0n);\n\n  // Fetch children for a path\n  const fetchChildren = async (path: string): Promise<TreeNode[]> => {\n    const resp = await usageClient.getUsageTree({\n      fsPath: fsPath(),\n      path: path,\n      sortBy: sortBy(),\n      sortDesc: sortDesc(),\n      limit: 100,\n    });\n\n    // Track root totals for percentage calculations\n    if (path === \"/\") {\n      if (resp.totalSize) setRootTotalSize(resp.totalSize);\n      if (resp.totalSamples) setRootTotalSamples(resp.totalSamples);\n    }\n\n    const totalSamples = rootTotalSamples() || resp.totalSamples || 1n;\n\n    return (resp.children ?? []).map(n => ({\n        name: n.name,\n        fullPath: n.fullPath,\n        isDir: n.isDir,\n        samples: n.samples,\n        estimatedSize: n.estimatedSize,\n        percentage: totalSamples > 0n ? Number((n.samples * 10000n) / totalSamples) / 100 : 0,\n        childCount: n.childCount,\n      }));\n  };\n\n  // Load root children\n  const loadRoot = async () => {\n    if (!statusData()?.hasSession) {\n      setTreeData(reconcile([]));\n      return;\n    }\n\n    setTreeLoading(true);\n    try {\n      const children = await fetchChildren(\"/\");\n      setTreeData(reconcile(children));\n    } finally {\n      setTreeLoading(false);\n    }\n  };\n\n  // Poll for status updates - separate status and tree refresh for performance\n  let statusInterval: number | undefined;\n  let treeRefreshInterval: number | undefined;\n  const TREE_REFRESH_MS = 3000; // Only refresh tree every 3 seconds\n\n  onMount(() => {\n    // Initial fetch\n    fetchStatus().then(() => loadRoot());\n\n    // Fast status polling (1s) - just updates stats display, no tree refresh\n    statusInterval = setInterval(async () => {\n      if (autoRefreshPaused()) return;\n      const result = await fetchStatus();\n      if (!result) return;\n\n      const currentSessionId = result.sessionId ?? \"\";\n\n      // Session changed - immediate full refresh needed\n      if (currentSessionId !== prevSessionId) {\n        prevSessionId = currentSessionId;\n        prevSampleCount = Number(result.progress?.sampleCount ?? 0n);\n        await refreshTree();\n      } else {\n        // Just track sample count for display\n        prevSampleCount = Number(result.progress?.sampleCount ?? 0n);\n      }\n    }, 1000) as unknown as number;\n\n    // Slower tree refresh (3s) - reduces network load during active sampling\n    treeRefreshInterval = setInterval(async () => {\n      if (autoRefreshPaused()) return;\n      const status = statusData();\n      if (!status) return;\n\n      const running = status.progress?.isRunning ?? false;\n\n      // Only auto-refresh tree during active sampling\n      if (running && treeData.length > 0) {\n        await refreshTree();\n      }\n    }, TREE_REFRESH_MS) as unknown as number;\n  });\n\n  onCleanup(() => {\n    if (statusInterval) clearInterval(statusInterval);\n    if (treeRefreshInterval) clearInterval(treeRefreshInterval);\n  });\n\n  // Refresh entire tree while preserving expanded state\n  const refreshTree = async () => {\n    const expanded = expandedPaths();\n\n    // Fetch root children\n    const rootChildren = await fetchChildren(\"/\");\n\n    // Recursively refresh expanded nodes\n    const refreshedChildren = await refreshNodeChildren(rootChildren, expanded);\n    setTreeData(reconcile(refreshedChildren));\n  };\n\n  // Recursively refresh expanded child nodes\n  const refreshNodeChildren = async (nodes: TreeNode[], expanded: Set<string>): Promise<TreeNode[]> => {\n    return Promise.all(nodes.map(async (node) => {\n      if (expanded.has(node.fullPath) && node.childCount > 0) {\n        const children = await fetchChildren(node.fullPath);\n        return {\n          ...node,\n          expanded: true,\n          children: await refreshNodeChildren(children, expanded),\n        };\n      }\n      return node;\n    }));\n  };\n\n  // Cached status values - only update when we have actual new data (not loading states)\n  const [cachedStatus, setCachedStatus] = createSignal<{\n    sampleCount: number;\n    totalSize: bigint;\n    isRunning: boolean;\n    hasSession: boolean;\n    samplesPerSec: number;\n    currentPath: string;\n    sessionId: string;\n    runningTimeSeconds: bigint;\n  }>({\n    sampleCount: 0,\n    totalSize: 0n,\n    isRunning: false,\n    hasSession: false,\n    samplesPerSec: 0,\n    currentPath: \"\",\n    sessionId: \"\",\n    runningTimeSeconds: 0n,\n  });\n\n  // Recent paths for animation\n  const [recentPaths, setRecentPaths] = createSignal<string[]>([]);\n  const [pathAnimIndex, setPathAnimIndex] = createSignal(0);\n\n  // Animation interval for cycling through recent paths (stops at end, doesn't loop)\n  let pathAnimInterval: number | undefined;\n  onMount(() => {\n    pathAnimInterval = setInterval(() => {\n      const paths = recentPaths();\n      if (paths.length > 0) {\n        setPathAnimIndex((prev) => {\n          // Stop at the last path, don't loop\n          if (prev >= paths.length - 1) return prev;\n          return prev + 1;\n        });\n      }\n    }, 60) as unknown as number; // Cycle every 60ms for smooth animation\n  });\n  onCleanup(() => {\n    if (pathAnimInterval) clearInterval(pathAnimInterval);\n  });\n\n  // Update cached values only when values actually changed\n  createMemo(() => {\n    const s = statusData();\n    if (s) {\n      const newValues = {\n        sampleCount: Number(s.progress?.sampleCount ?? 0n),\n        totalSize: s.progress?.totalSize ?? 0n,\n        isRunning: s.progress?.isRunning ?? false,\n        hasSession: s.hasSession ?? false,\n        samplesPerSec: s.progress?.samplesPerSecond ?? 0,\n        currentPath: s.progress?.currentPath ?? \"\",\n        sessionId: s.sessionId ?? \"\",\n        runningTimeSeconds: s.progress?.runningTimeSeconds ?? 0n,\n      };\n      // Only update if values actually changed\n      const prev = cachedStatus();\n      if (\n        newValues.sampleCount !== prev.sampleCount ||\n        newValues.isRunning !== prev.isRunning ||\n        newValues.hasSession !== prev.hasSession ||\n        newValues.sessionId !== prev.sessionId ||\n        newValues.totalSize !== prev.totalSize ||\n        newValues.runningTimeSeconds !== prev.runningTimeSeconds\n      ) {\n        setCachedStatus(newValues);\n      }\n\n      // Update recent paths for animation - reset index when new paths arrive\n      const paths = s.progress?.recentPaths ?? [];\n      if (paths.length > 0) {\n        setRecentPaths(paths);\n        setPathAnimIndex(0); // Start from beginning of new batch\n      }\n    }\n  });\n\n  // Use cached values for display - these won't flicker during loading\n  const sampleCount = () => cachedStatus().sampleCount;\n  const totalSize = () => cachedStatus().totalSize;\n  const isRunning = () => cachedStatus().isRunning;\n  const hasSession = () => cachedStatus().hasSession;\n  const samplesPerSec = () => cachedStatus().samplesPerSec;\n\n  // Animated current path - cycles through recent paths\n  const currentSamplingPath = () => {\n    const paths = recentPaths();\n    if (paths.length === 0) return cachedStatus().currentPath;\n    return paths[pathAnimIndex() % paths.length] || cachedStatus().currentPath;\n  };\n\n  // Elapsed time - uses cached running time (cumulative active sampling time)\n  const elapsed = createMemo(() => {\n    const cached = cachedStatus();\n    const seconds = Number(cached.runningTimeSeconds);\n    if (seconds <= 0) return \"0s\";\n\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return mins > 0 ? `${mins}m ${secs}s` : `${secs}s`;\n  });\n\n  // Max samples for bar scaling (at root level)\n  const maxSamples = createMemo(() => {\n    if (treeData.length === 0) return 1n;\n    return treeData.reduce((max, n) => n.samples > max ? n.samples : max, 1n);\n  });\n\n  const handleSortClick = (id: \"size\" | \"name\" | \"samples\") => {\n    if (sortBy() === id) {\n      setSortDesc(!sortDesc());\n    } else {\n      setSortBy(id);\n      setSortDesc(true);\n    }\n    // Re-fetch with new sort\n    refreshTree();\n  };\n\n  const handleStartSampling = async () => {\n    try {\n      await usageClient.startSampling({ fsPath: fsPath(), resume: true });\n      fetchStatus();\n      setTimeout(loadRoot, 500);\n    } catch (e) {\n      console.error(\"Failed to start sampling:\", e);\n    }\n  };\n\n  const handleStopSampling = async () => {\n    try {\n      await usageClient.stopSampling({ fsPath: fsPath() });\n      fetchStatus();\n    } catch (e) {\n      console.error(\"Failed to stop sampling:\", e);\n    }\n  };\n\n  const handleClear = async () => {\n    try {\n      await usageClient.clearSampling({ fsPath: fsPath() });\n      setTreeData(reconcile([]));\n      setExpandedPaths(new Set());\n      setRootTotalSize(0n);\n      setRootTotalSamples(0n);\n      fetchStatus();\n    } catch (e) {\n      console.error(\"Failed to clear sampling:\", e);\n    }\n  };\n\n  // Toggle expand/collapse for a node\n  const toggleNode = async (path: number[], node: TreeNode) => {\n    if (node.childCount === 0) return;\n\n    const newExpanded = new Set(expandedPaths());\n\n    if (node.expanded) {\n      // Collapse\n      newExpanded.delete(node.fullPath);\n      setExpandedPaths(newExpanded);\n      updateNodeInTree(path, { ...node, expanded: false, children: undefined });\n    } else {\n      // Expand - fetch children\n      newExpanded.add(node.fullPath);\n      setExpandedPaths(newExpanded);\n      updateNodeInTree(path, { ...node, loading: true });\n\n      try {\n        const children = await fetchChildren(node.fullPath);\n        updateNodeInTree(path, { ...node, expanded: true, loading: false, children });\n      } catch (e) {\n        console.error(\"Failed to load children:\", e);\n        updateNodeInTree(path, { ...node, loading: false });\n        newExpanded.delete(node.fullPath);\n        setExpandedPaths(newExpanded);\n      }\n    }\n  };\n\n  // Update a node in the tree by path\n  const updateNodeInTree = (path: number[], newNode: TreeNode) => {\n    setTreeData(produce((nodes) => {\n      let current: TreeNode[] = nodes;\n      for (let i = 0; i < path.length - 1; i++) {\n        const node = current[path[i]];\n        if (node?.children) {\n          current = node.children;\n        } else {\n          return;\n        }\n      }\n      const lastIdx = path[path.length - 1];\n      if (current[lastIdx]) {\n        Object.assign(current[lastIdx], newNode);\n      }\n    }));\n  };\n\n  // Recursive tree node component\n  const TreeNodeRow = (props: { node: TreeNode; depth: number; path: number[]; maxSamples: bigint }) => {\n    const node = () => props.node;\n    const barPct = () => Number((node().samples * 100n) / props.maxSamples);\n    const hasChildren = () => node().childCount > 0;\n\n    return (\n      <>\n        <div class=\"relative hover:bg-bg-surface-raised group\">\n          {/* Background bar */}\n          <div\n            class=\"absolute inset-y-0 left-0 bg-primary-subtle\"\n            style={{ width: `${barPct()}%` }}\n          />\n          {/* Content */}\n          <div\n            class={`relative flex items-center py-1 pr-2 ${hasChildren() ? \"cursor-pointer\" : \"\"}`}\n            style={{ \"padding-left\": `${props.depth * 16 + 8}px` }}\n            onClick={() => hasChildren() && toggleNode(props.path, node())}\n          >\n            {/* Expand/collapse indicator */}\n            <span class=\"w-4 text-text-muted text-xs flex-shrink-0\">\n              <Show when={hasChildren()} fallback={<span class=\"w-4\" />}>\n                <Show when={node().loading} fallback={\n                  <span class=\"inline-block transition-transform\" classList={{ \"rotate-90\": node().expanded }}>\n                    â–¶\n                  </span>\n                }>\n                  <span class=\"animate-spin\">â—Œ</span>\n                </Show>\n              </Show>\n            </span>\n            {/* Icon */}\n            <span class=\"w-5 text-text-muted text-xs flex-shrink-0\">\n              {hasChildren() ? \"ðŸ“\" : \"ðŸ“„\"}\n            </span>\n            {/* Path */}\n            <span class=\"flex-1 text-xs font-mono text-text-default truncate\" title={node().fullPath}>\n              {node().fullPath}\n            </span>\n            {/* Stats */}\n            <div class=\"flex items-center space-x-3 text-xs flex-shrink-0 whitespace-nowrap\">\n              {/* Percentage */}\n              <span class=\"w-12 text-right text-text-secondary\">\n                {node().percentage.toFixed(1)}%\n              </span>\n              {/* Size */}\n              <span class=\"w-20 text-right font-mono text-text-tertiary\">\n                {formatBytes(node().estimatedSize, uiSettings().showRawBytes)}\n              </span>\n              {/* Samples */}\n              <span class=\"w-16 text-right font-mono text-text-muted\">\n                {Number(node().samples).toLocaleString()}\n              </span>\n            </div>\n          </div>\n        </div>\n        {/* Children */}\n        <Show when={node().expanded && node().children}>\n          <For each={node().children}>\n            {(child, i) => (\n              <TreeNodeRow\n                node={child}\n                depth={props.depth + 1}\n                path={[...props.path, i()]}\n                maxSamples={props.maxSamples}\n              />\n            )}\n          </For>\n        </Show>\n      </>\n    );\n  };\n\n  return (\n    <div class=\"space-y-2\">\n      {/* Header with stats */}\n      <div class=\"bg-bg-surface border border-border-default\">\n        {/* Top bar with controls */}\n        <div class=\"flex items-center justify-between px-3 py-2 border-b border-border-subtle\">\n          {/* Stats */}\n          <div class=\"flex items-center space-x-4 text-xs\">\n            <Show when={!initialLoading()} fallback={\n              <>\n                <div class=\"flex items-center\">\n                  <span class=\"text-text-tertiary\">samples </span>\n                  <span class=\"w-12 h-3 bg-bg-muted rounded animate-pulse ml-1\" />\n                </div>\n                <div class=\"flex items-center\">\n                  <span class=\"text-text-tertiary\">size </span>\n                  <span class=\"w-14 h-3 bg-bg-muted rounded animate-pulse ml-1\" />\n                </div>\n                <div class=\"flex items-center\">\n                  <span class=\"text-text-tertiary\">time </span>\n                  <span class=\"w-10 h-3 bg-bg-muted rounded animate-pulse ml-1\" />\n                </div>\n              </>\n            }>\n              <div>\n                <span class=\"text-text-tertiary\">samples </span>\n                <span class=\"font-mono text-text-default\">{sampleCount().toLocaleString()}</span>\n              </div>\n              <div>\n                <span class=\"text-text-tertiary\">size </span>\n                <span class=\"font-mono text-text-default\">{formatBytes(totalSize(), uiSettings().showRawBytes)}</span>\n              </div>\n              <div>\n                <span class=\"text-text-tertiary\">time </span>\n                <span class=\"font-mono text-text-default\">{elapsed()}</span>\n              </div>\n              <Show when={isRunning()}>\n                <div>\n                  <span class=\"text-text-tertiary\">rate </span>\n                  <span class=\"font-mono text-text-default\">{samplesPerSec().toFixed(0)}/s</span>\n                </div>\n              </Show>\n            </Show>\n          </div>\n          {/* Controls */}\n          <div class=\"flex items-center space-x-2\">\n            {/* Auto-refresh pause toggle */}\n            <button\n              class={`px-2 py-1 text-xs cursor-pointer ${\n                autoRefreshPaused()\n                  ? \"bg-warning-soft text-text-inverse hover:bg-warning\"\n                  : \"bg-bg-muted text-text-secondary hover:bg-border-strong\"\n              }`}\n              onClick={() => setAutoRefreshPaused(!autoRefreshPaused())}\n              title={autoRefreshPaused() ? \"Resume auto-refresh\" : \"Pause auto-refresh\"}\n              disabled={initialLoading()}\n            >\n              {autoRefreshPaused() ? \"paused\" : \"live\"}\n            </button>\n            <Show when={initialLoading()}>\n              <span class=\"text-xs text-text-muted animate-pulse\">loading...</span>\n            </Show>\n            <Show when={!initialLoading()}>\n              <Show\n                when={isRunning()}\n                fallback={\n                  <div class=\"flex space-x-1\">\n                    <button\n                      class=\"px-2 py-1 text-xs cursor-pointer bg-primary text-text-inverse hover:bg-primary-hover\"\n                      onClick={handleStartSampling}\n                    >\n                      {hasSession() ? \"resume\" : \"start\"}\n                    </button>\n                    <Show when={hasSession()}>\n                      <button\n                        class=\"px-2 py-1 text-xs cursor-pointer bg-interactive-soft text-text-inverse hover:bg-interactive\"\n                        onClick={handleClear}\n                      >\n                        clear\n                      </button>\n                    </Show>\n                  </div>\n                }\n              >\n                <button\n                  class=\"px-2 py-1 text-xs cursor-pointer bg-error text-text-inverse hover:bg-error-hover\"\n                  onClick={handleStopSampling}\n                >\n                  stop\n                </button>\n              </Show>\n            </Show>\n          </div>\n        </div>\n        {/* Progress bar (if sampling) */}\n        <Show when={isRunning()}>\n          <div class=\"h-1 bg-bg-base\">\n            <div class=\"h-1 bg-primary-soft animate-pulse w-full\" />\n          </div>\n          <div class=\"px-3 py-1 text-xs text-text-tertiary font-mono truncate border-t border-border-subtle\">\n            {currentSamplingPath() || \"sampling...\"}\n          </div>\n        </Show>\n      </div>\n\n      {/* Tree view */}\n      <Show\n        when={treeData.length > 0}\n        fallback={\n          <div class=\"bg-bg-surface border border-border-default p-4 text-xs text-text-tertiary text-center\">\n            <Show when={!initialLoading() && !treeLoading()} fallback={\n              <div class=\"flex items-center justify-center space-x-2\">\n                <span class=\"animate-spin\">â—Œ</span>\n                <span>{initialLoading() ? \"checking for existing session...\" : \"loading tree data...\"}</span>\n              </div>\n            }>\n              {hasSession() ? \"no data yet\" : \"click start to begin sampling\"}\n            </Show>\n          </div>\n        }\n      >\n        <div class=\"bg-bg-surface border border-border-default\">\n          {/* Column headers */}\n          <div class=\"flex items-center py-1 pr-2 border-b border-border-subtle bg-bg-surface-raised text-xs\" style={{ \"padding-left\": \"8px\" }}>\n            {/* Reset sort button */}\n            <button\n              class=\"w-4 flex-shrink-0 text-text-muted hover:text-text-default cursor-pointer\"\n              onClick={() => { setSortBy(\"size\"); setSortDesc(true); refreshTree(); }}\n              title=\"Reset sort to size descending\"\n            >\n              â†º\n            </button>\n            {/* Spacer for folder icon */}\n            <span class=\"w-5 flex-shrink-0\" />\n            {/* Path header */}\n            <button\n              class={`flex-1 text-left cursor-pointer hover:text-text-default ${\n                sortBy() === \"name\" ? \"text-text-default font-medium\" : \"text-text-tertiary\"\n              }`}\n              onClick={() => handleSortClick(\"name\")}\n            >\n              path {sortBy() === \"name\" && (sortDesc() ? \"â†“\" : \"â†‘\")}\n              <span class=\"text-text-muted ml-2\">({treeData.length.toLocaleString()} items)</span>\n            </button>\n            {/* Stats headers */}\n            <div class=\"flex items-center space-x-3 flex-shrink-0 whitespace-nowrap\">\n              <span class=\"w-12 text-right text-text-tertiary\">%</span>\n              <button\n                class={`w-20 text-right cursor-pointer hover:text-text-default ${\n                  sortBy() === \"size\" ? \"text-text-default font-medium\" : \"text-text-tertiary\"\n                }`}\n                onClick={() => handleSortClick(\"size\")}\n              >\n                size {sortBy() === \"size\" && (sortDesc() ? \"â†“\" : \"â†‘\")}\n              </button>\n              <button\n                class={`w-16 text-right cursor-pointer hover:text-text-default ${\n                  sortBy() === \"samples\" ? \"text-text-default font-medium\" : \"text-text-tertiary\"\n                }`}\n                onClick={() => handleSortClick(\"samples\")}\n              >\n                samples {sortBy() === \"samples\" && (sortDesc() ? \"â†“\" : \"â†‘\")}\n              </button>\n            </div>\n          </div>\n          {/* Tree items */}\n          <div class=\"divide-y divide-border-subtle\">\n            <For each={treeData}>\n              {(node, i) => (\n                <TreeNodeRow\n                  node={node}\n                  depth={0}\n                  path={[i()]}\n                  maxSamples={maxSamples()}\n                />\n              )}\n            </For>\n          </div>\n        </div>\n      </Show>\n    </div>\n  );\n}\n","import { Show, For, createMemo, createSignal, createResource, onMount, onCleanup, Suspense } from \"solid-js\";\nimport type { TrackedFilesystem } from \"%/v1/filesystem_pb\";\nimport type { Subvolume } from \"%/v1/subvolume_pb\";\nimport { subvolumeClient } from \"@/api/client\";\nimport { isInBtrbkDir, formatRelativeTimeShort, truncateUuid, copyToClipboard, formatNumber } from \"@/lib/utils\";\nimport { Flag } from \"@/components/ui\";\n\ninterface BackupInfo {\n  date: Date;\n  path: string;\n  name: string;\n}\n\ninterface TimeSlot {\n  label: string;\n  start: number;\n  end: number;\n  backups: BackupInfo[];\n}\n\nasync function loadSubvolumes(fsPath: string) {\n  const resp = await subvolumeClient.listSubvolumes({ mountPath: fsPath });\n  return resp.subvolumes;\n}\n\nexport function SubvolumesTab(props: {\n  fs: TrackedFilesystem;\n  expandedNodes: Set<bigint>;\n  setExpandedNodes: (fn: (prev: Set<bigint>) => Set<bigint>) => void;\n}) {\n  const [subvolumes, { refetch }] = createResource(() => props.fs.path, loadSubvolumes);\n\n  // Listen for refresh events\n  onMount(() => {\n    const handler = () => refetch();\n    window.addEventListener(\"fs-refresh\", handler);\n    onCleanup(() => window.removeEventListener(\"fs-refresh\", handler));\n  });\n\n  return (\n    <Suspense fallback={<div class=\"text-xs text-text-tertiary\">loading subvolumes...</div>}>\n      <Show when={subvolumes()} keyed>\n        {(subs) => <SubvolumesContent fs={props.fs} subvolumes={subs} expandedNodes={props.expandedNodes} setExpandedNodes={props.setExpandedNodes} />}\n      </Show>\n    </Suspense>\n  );\n}\n\nfunction SubvolumesContent(props: {\n  fs: TrackedFilesystem;\n  subvolumes: Subvolume[];\n  expandedNodes: Set<bigint>;\n  setExpandedNodes: (fn: (prev: Set<bigint>) => Set<bigint>) => void;\n}) {\n  // Filter out btrbk backups for subvolume tree\n  const subvolumes = createMemo(() =>\n    props.subvolumes.filter(sv => !isInBtrbkDir(sv.path, props.fs.btrbkSnapshotDir))\n  );\n\n  // Backups tooltip state\n  const [tooltip, setTooltip] = createSignal<{ x: number; y: number; slot: TimeSlot } | null>(null);\n\n  const toggleExpand = (id: bigint) => {\n    props.setExpandedNodes(prev => {\n      const next = new Set(prev);\n      if (next.has(id)) {\n        next.delete(id);\n      } else {\n        next.add(id);\n      }\n      return next;\n    });\n  };\n\n  // Build tree structure\n  const tree = createMemo(() => {\n    const byParent = new Map<bigint, Subvolume[]>();\n    for (const sv of subvolumes()) {\n      const parentId = sv.parentId ?? 0n;\n      if (!byParent.has(parentId)) {\n        byParent.set(parentId, []);\n      }\n      byParent.get(parentId)!.push(sv);\n    }\n    return byParent;\n  });\n\n  // Format date for display\n  const formatDate = (timestamp: bigint) => {\n    // Go's zero time (0001-01-01) has Unix timestamp of -62135596800\n    // Also handle 0 and undefined\n    if (!timestamp || timestamp === 0n || timestamp < 0n) return \"-\";\n    const date = new Date(Number(timestamp) * 1000);\n    // Check for invalid/very old dates (before 1990)\n    if (date.getFullYear() < 1990) return \"-\";\n    // Show date in compact format: YYYY-MM-DD\n    return date.toISOString().split(\"T\")[0];\n  };\n\n  const renderRow = (sv: Subvolume, depth: number): any => {\n    const children = tree().get(sv.id) || [];\n    const hasChildren = children.length > 0;\n    const isExpanded = props.expandedNodes.has(sv.id);\n    const name = sv.path.split(\"/\").pop() || sv.path || \"/\";\n    const isSnapshot = !!sv.parentUuid;\n\n    return (\n      <>\n        <tr class=\"hover:bg-bg-surface-raised text-xs\">\n          {/* Name with tree indent */}\n          <td class=\"py-1 pr-2\">\n            <div\n              class=\"flex items-center cursor-pointer\"\n              style={{ \"padding-left\": `${depth * 16}px` }}\n              onClick={() => hasChildren && toggleExpand(sv.id)}\n            >\n              <span class=\"w-4 text-text-muted flex-shrink-0\">\n                {hasChildren ? (isExpanded ? \"â–¼\" : \"â–¶\") : \"\"}\n              </span>\n              <span class=\"font-mono text-text-default truncate\" title={sv.path}>\n                {name}\n              </span>\n            </div>\n          </td>\n          {/* ID */}\n          <td class=\"py-1 px-2 text-right font-mono text-text-tertiary\" title={`Subvolume ID: ${sv.id}`}>\n            {formatNumber(sv.id)}\n          </td>\n          {/* Gen */}\n          <td class=\"py-1 px-2 text-right font-mono text-text-muted\" title={`Generation number: ${sv.gen}\\nIncremented on each transaction that modifies this subvolume`}>\n            {formatNumber(sv.gen)}\n          </td>\n          {/* Flags */}\n          <td class=\"py-1 px-2\">\n            <div class=\"flex gap-1\">\n              <Flag\n                active={sv.isReadonly}\n                label=\"ro\"\n                tooltip={sv.isReadonly\n                  ? \"Read-only: This subvolume cannot be modified. Snapshots are typically read-only.\"\n                  : \"Read-write: This subvolume can be modified.\"}\n                activeClass=\"bg-warning-subtle text-warning-muted\"\n              />\n              <Flag\n                active={isSnapshot}\n                label=\"snap\"\n                tooltip={isSnapshot\n                  ? `Snapshot: Created from parent ${sv.parentUuid}`\n                  : \"Not a snapshot: This is an original subvolume, not created from another.\"}\n                activeClass=\"bg-primary-muted text-primary-hover\"\n              />\n            </div>\n          </td>\n          {/* UUID */}\n          <td class=\"py-1 px-2 font-mono text-text-muted text-[10px]\">\n            <Show when={sv.uuid} fallback=\"-\">\n              <span\n                class=\"cursor-pointer hover:text-text-secondary hover:underline\"\n                title={`${sv.uuid}\\nClick to copy`}\n                onClick={() => copyToClipboard(sv.uuid, \"UUID copied\")}\n              >\n                {truncateUuid(sv.uuid)}\n              </span>\n            </Show>\n          </td>\n          {/* Created */}\n          <td class=\"py-1 px-2 text-right text-text-muted\">\n            {formatDate(sv.createdAt)}\n          </td>\n        </tr>\n        <Show when={isExpanded}>\n          <For each={children}>\n            {(child) => renderRow(child, depth + 1)}\n          </For>\n        </Show>\n      </>\n    );\n  };\n\n  const roots = createMemo(() => tree().get(0n) || tree().get(5n) || []);\n\n  // === Backups section ===\n  const hasBtrbkDir = () => !!props.fs.btrbkSnapshotDir;\n\n  // Group backups by source\n  const backupGroups = createMemo(() => {\n    if (!hasBtrbkDir()) return [];\n\n    const result = new Map<string, BackupInfo[]>();\n\n    for (const sv of props.subvolumes) {\n      if (!isInBtrbkDir(sv.path, props.fs.btrbkSnapshotDir)) continue;\n\n      const name = sv.path.split(\"/\").pop() || \"\";\n      const lastDot = name.lastIndexOf(\".\");\n      if (lastDot === -1) continue;\n\n      const source = name.substring(0, lastDot);\n      const dateStr = name.substring(lastDot + 1);\n\n      let date: Date;\n      if (dateStr.length >= 15 && dateStr[8] === \"T\") {\n        date = new Date(\n          parseInt(dateStr.substring(0, 4)),\n          parseInt(dateStr.substring(4, 6)) - 1,\n          parseInt(dateStr.substring(6, 8)),\n          parseInt(dateStr.substring(9, 11)),\n          parseInt(dateStr.substring(11, 13)),\n          parseInt(dateStr.substring(13, 15))\n        );\n      } else if (dateStr.length >= 8) {\n        date = new Date(\n          parseInt(dateStr.substring(0, 4)),\n          parseInt(dateStr.substring(4, 6)) - 1,\n          parseInt(dateStr.substring(6, 8))\n        );\n      } else {\n        continue;\n      }\n\n      if (!result.has(source)) {\n        result.set(source, []);\n      }\n      result.get(source)!.push({ date, path: sv.path, name });\n    }\n\n    // Sort by date within each group (newest first for display)\n    for (const backups of result.values()) {\n      backups.sort((a, b) => b.date.getTime() - a.date.getTime());\n    }\n\n    return Array.from(result.entries()).sort((a, b) => a[0].localeCompare(b[0]));\n  });\n\n  // Generate time slots with non-linear scale\n  const timeSlots = createMemo(() => {\n    const now = new Date();\n    const startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate()).getTime();\n    const DAY = 24 * 60 * 60 * 1000;\n    const WEEK = 7 * DAY;\n    const MONTH = 30 * DAY;\n\n    const slots: { label: string; start: number; end: number }[] = [];\n    let cursor = startOfToday + DAY;\n\n    // 14 daily slots\n    for (let i = 0; i < 14; i++) {\n      const end = cursor;\n      const start = end - DAY;\n      cursor = start;\n      const label = i === 0 ? \"today\" : `${i}d`;\n      slots.push({ label, start, end });\n    }\n\n    // 6 weekly slots\n    for (let i = 0; i < 6; i++) {\n      const end = cursor;\n      const start = end - WEEK;\n      cursor = start;\n      slots.push({ label: `${i + 2}w`, start, end });\n    }\n\n    // 8 monthly slots\n    for (let i = 0; i < 8; i++) {\n      const end = cursor;\n      const start = end - MONTH;\n      cursor = start;\n      slots.push({ label: `${i + 2}mo`, start, end });\n    }\n\n    // 4 quarterly slots\n    for (let i = 0; i < 4; i++) {\n      const end = cursor;\n      const start = end - 3 * MONTH;\n      cursor = start;\n      slots.push({ label: `${10 + i * 3}mo`, start, end });\n    }\n\n    // 3 yearly slots\n    for (let i = 0; i < 3; i++) {\n      const end = cursor;\n      const start = end - 365 * DAY;\n      cursor = start;\n      slots.push({ label: `${i + 2}y`, start, end });\n    }\n\n    return slots;\n  });\n\n  const getSlotsWithBackups = (backups: BackupInfo[]): TimeSlot[] => {\n    return timeSlots().map(slot => ({\n      ...slot,\n      backups: backups.filter(b => {\n        const t = b.date.getTime();\n        return t >= slot.start && t < slot.end;\n      }),\n    }));\n  };\n\n  const totalBackups = createMemo(() => backupGroups().reduce((sum, [, b]) => sum + b.length, 0));\n\n  const handleMouseEnter = (e: MouseEvent, slot: TimeSlot) => {\n    if (slot.backups.length === 0) return;\n    const rect = (e.target as HTMLElement).getBoundingClientRect();\n    setTooltip({\n      x: rect.left + rect.width / 2,\n      y: rect.top - 8,\n      slot,\n    });\n  };\n\n  const handleMouseLeave = () => {\n    setTooltip(null);\n  };\n\n  const latestBackup = (backups: BackupInfo[]) => backups[0];\n\n  return (\n    <div class=\"space-y-2\">\n      {/* Subvolumes table */}\n      <div class=\"bg-bg-surface border border-border-default\">\n        <div class=\"px-2 py-1 bg-bg-surface-raised border-b border-border-subtle flex justify-between items-center\">\n          <span class=\"text-xs text-text-tertiary\">subvolumes</span>\n          <span class=\"text-xs text-text-muted\">{formatNumber(subvolumes().length)}</span>\n        </div>\n        <div class=\"overflow-x-auto\">\n          <table class=\"w-full\">\n            <thead>\n              <tr class=\"text-[10px] text-text-tertiary border-b border-border-subtle bg-bg-surface-raised\">\n                <th class=\"py-1 px-2 text-left font-medium\">name</th>\n                <th class=\"py-1 px-2 text-right font-medium\" title=\"Subvolume ID - unique numeric identifier\">id</th>\n                <th class=\"py-1 px-2 text-right font-medium\" title=\"Generation number - incremented on each modification\">gen</th>\n                <th class=\"py-1 px-2 text-left font-medium\" title=\"Subvolume flags and properties\">props</th>\n                <th class=\"py-1 px-2 text-left font-medium\" title=\"UUID - unique identifier (click to copy)\">uuid</th>\n                <th class=\"py-1 px-2 text-right font-medium\" title=\"Creation time\">created</th>\n              </tr>\n            </thead>\n            <tbody class=\"font-mono\">\n              <For each={roots()}>\n                {(sv) => renderRow(sv, 0)}\n              </For>\n              <Show when={roots().length === 0}>\n                <tr>\n                  <td colspan=\"6\" class=\"py-2 px-2 text-xs text-text-tertiary text-center\">\n                    No subvolumes found\n                  </td>\n                </tr>\n              </Show>\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Backups timeline */}\n      <Show when={hasBtrbkDir() && backupGroups().length > 0}>\n        <div class=\"bg-bg-surface border border-border-default relative\">\n          {/* Header */}\n          <div class=\"px-2 py-1 bg-bg-surface-raised border-b border-border-subtle flex justify-between items-center\">\n            <span class=\"text-xs text-text-tertiary\">backups</span>\n            <span class=\"text-xs text-text-muted\">{totalBackups()} snapshots</span>\n          </div>\n\n          {/* Scrollable timeline container */}\n          <div class=\"overflow-x-auto\">\n            {/* Legend row */}\n            <div class=\"flex items-center border-b border-border-subtle bg-bg-surface-raised min-w-max\">\n              <div class=\"w-40 flex-shrink-0 px-2 py-1\" />\n              <div class=\"flex gap-px mx-2 py-1\">\n                <For each={timeSlots()}>\n                  {(slot) => (\n                    <div\n                      class=\"w-4 h-3 flex items-center justify-center text-[8px] text-text-muted flex-shrink-0\"\n                      title={slot.label}\n                    >\n                      {slot.label.length <= 3 ? slot.label : \"\"}\n                    </div>\n                  )}\n                </For>\n              </div>\n            </div>\n\n            {/* Backup rows */}\n            <div class=\"divide-y divide-border-subtle\">\n              <For each={backupGroups()}>\n                {([source, backups]) => {\n                  const latest = latestBackup(backups);\n                  const latestRelative = formatRelativeTimeShort(latest.date);\n                  const slots = getSlotsWithBackups(backups);\n\n                  return (\n                    <div class=\"flex items-center hover:bg-bg-surface-raised min-w-max\">\n                      <div class=\"w-40 flex-shrink-0 px-2 py-2 text-xs truncate\" title={source}>\n                        <div class=\"font-medium text-text-default\">{source}</div>\n                        <div class=\"text-text-muted text-[10px]\">\n                          {formatNumber(backups.length)} Â· latest {latestRelative}\n                        </div>\n                      </div>\n                      <div class=\"flex gap-px mx-2 py-1\">\n                        <For each={slots}>\n                          {(slot) => {\n                            const hasBackup = slot.backups.length > 0;\n                            const count = slot.backups.length;\n                            return (\n                              <div\n                                class={`w-4 h-4 rounded-sm flex-shrink-0 transition-colors ${\n                                  hasBackup\n                                    ? count > 1\n                                      ? \"bg-primary hover:bg-primary-strong cursor-pointer\"\n                                      : \"bg-primary-softer hover:bg-primary cursor-pointer\"\n                                    : \"bg-bg-base\"\n                                }`}\n                                onMouseEnter={(e) => handleMouseEnter(e, slot)}\n                                onMouseLeave={handleMouseLeave}\n                              />\n                            );\n                          }}\n                        </For>\n                      </div>\n                    </div>\n                  );\n                }}\n              </For>\n            </div>\n          </div>\n\n          {/* Tooltip */}\n          <Show when={tooltip()}>\n            {(t) => {\n              const showBelow = t().y < 150;\n              return (\n                <div\n                  class=\"fixed z-50 bg-bg-overlay text-text-inverse text-xs rounded px-2 py-1.5 pointer-events-none shadow-lg max-w-xs\"\n                  style={{\n                    left: `${t().x}px`,\n                    top: showBelow ? `${t().y + 30}px` : `${t().y}px`,\n                    transform: showBelow ? \"translateX(-50%)\" : \"translate(-50%, -100%)\",\n                  }}\n                >\n                  <div class=\"font-medium mb-1\">{t().slot.label}: {formatNumber(t().slot.backups.length)} backup{t().slot.backups.length !== 1 ? \"s\" : \"\"}</div>\n                  <div class=\"space-y-0.5 max-h-24 overflow-y-auto\">\n                    <For each={t().slot.backups.slice(0, 10)}>\n                      {(backup) => (\n                        <div class=\"flex justify-between gap-3 text-text-faint\">\n                          <span>{backup.date.toLocaleDateString()}</span>\n                          <span class=\"text-text-muted\">{formatRelativeTimeShort(backup.date)}</span>\n                        </div>\n                      )}\n                    </For>\n                    <Show when={t().slot.backups.length > 10}>\n                      <div class=\"text-text-tertiary\">+{formatNumber(t().slot.backups.length - 10)} more</div>\n                    </Show>\n                  </div>\n                </div>\n              );\n            }}\n          </Show>\n        </div>\n      </Show>\n    </div>\n  );\n}\n","import { createSignal, createEffect } from \"solid-js\";\nimport { Modal, Button } from \"@/components/ui\";\n\nexport interface ScrubOptions {\n  readonly: boolean;\n  limitBytesPerSec: bigint;\n  force: boolean;\n}\n\nexport interface ScrubConfirmModalProps {\n  open: boolean;\n  onClose: () => void;\n  onConfirm: (opts: ScrubOptions) => void;\n  initialReadonly?: boolean;\n}\n\nexport function ScrubConfirmModal(props: ScrubConfirmModalProps) {\n  const [readonly, setReadonly] = createSignal(props.initialReadonly ?? false);\n  const [limitMB, setLimitMB] = createSignal(\"\");\n  const [force, setForce] = createSignal(false);\n\n  // Sync readonly state when modal opens with new initialReadonly value\n  createEffect(() => {\n    if (props.open) {\n      setReadonly(props.initialReadonly ?? false);\n    }\n  });\n\n  const handleConfirm = () => {\n    const limitVal = parseFloat(limitMB()) || 0;\n    props.onConfirm({\n      readonly: readonly(),\n      limitBytesPerSec: BigInt(Math.floor(limitVal * 1024 * 1024)),\n      force: force(),\n    });\n    // Reset fields\n    setLimitMB(\"\");\n    setForce(false);\n  };\n\n  const handleClose = () => {\n    // Reset fields\n    setLimitMB(\"\");\n    setForce(false);\n    props.onClose();\n  };\n\n  return (\n    <Modal open={props.open} onClose={handleClose} title=\"Start Scrub\">\n      <div class=\"space-y-4\">\n        <p class=\"text-xs text-text-tertiary\">\n          Configure scrub options before starting.\n        </p>\n\n        <div class=\"space-y-3\">\n          {/* Readonly checkbox */}\n          <label class=\"flex items-center space-x-2 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={readonly()}\n              onChange={(e) => setReadonly(e.currentTarget.checked)}\n              class=\"w-4 h-4 accent-primary\"\n            />\n            <span class=\"text-sm text-text-default\">Read-only mode</span>\n            <span class=\"text-xs text-text-muted\">(-r)</span>\n          </label>\n          <p class=\"text-xs text-text-muted ml-6\">\n            Don't try to repair anything, just verify checksums.\n          </p>\n\n          {/* Rate limit input */}\n          <div class=\"space-y-1\">\n            <label class=\"text-sm text-text-default\">\n              Rate limit <span class=\"text-xs text-text-muted\">(--limit)</span>\n            </label>\n            <div class=\"flex items-center space-x-2\">\n              <input\n                type=\"number\"\n                min=\"0\"\n                step=\"1\"\n                value={limitMB()}\n                onInput={(e) => setLimitMB(e.currentTarget.value)}\n                placeholder=\"0\"\n                class=\"w-24 px-2 py-1 text-sm bg-bg-default border border-border-default rounded focus:outline-none focus:border-primary\"\n              />\n              <span class=\"text-sm text-text-muted\">MB/s (0 = unlimited)</span>\n            </div>\n            <p class=\"text-xs text-text-muted\">\n              Limit I/O per second to reduce system load.\n            </p>\n          </div>\n\n          {/* Force checkbox */}\n          <label class=\"flex items-center space-x-2 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={force()}\n              onChange={(e) => setForce(e.currentTarget.checked)}\n              class=\"w-4 h-4 accent-primary\"\n            />\n            <span class=\"text-sm text-text-default\">Force</span>\n            <span class=\"text-xs text-text-muted\">(-f)</span>\n          </label>\n          <p class=\"text-xs text-text-muted ml-6\">\n            Force starting even if a scrub is already running (only use if previous scrub crashed).\n          </p>\n        </div>\n\n        {/* Buttons */}\n        <div class=\"flex justify-end space-x-2 pt-2 border-t border-border-subtle\">\n          <Button variant=\"soft\" onClick={handleClose}>\n            Cancel\n          </Button>\n          <Button variant=\"primary\" onClick={handleConfirm}>\n            Start Scrub\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { createSignal } from \"solid-js\";\nimport { Modal, Button } from \"@/components/ui\";\nimport type { BalanceFilters } from \"%/v1/balance_pb\";\n\nexport interface BalanceOptions {\n  filters?: BalanceFilters;\n  limitPercent: number;\n  background: boolean;\n  dryRun: boolean;\n  force: boolean;\n}\n\nexport interface BalanceConfirmModalProps {\n  open: boolean;\n  onClose: () => void;\n  onConfirm: (opts: BalanceOptions) => void;\n}\n\nexport function BalanceConfirmModal(props: BalanceConfirmModalProps) {\n  const [data, setData] = createSignal(true);\n  const [metadata, setMetadata] = createSignal(true);\n  const [system, setSystem] = createSignal(false);\n  const [usagePercent, setUsagePercent] = createSignal(\"50\");\n  const [limitChunks, setLimitChunks] = createSignal(\"\");\n  const [dryRun, setDryRun] = createSignal(false);\n  const [force, setForce] = createSignal(false);\n\n  const handleConfirm = () => {\n    const usage = parseInt(usagePercent()) || 0;\n    const limit = parseInt(limitChunks()) || 0;\n\n    props.onConfirm({\n      filters: {\n        $typeName: \"api.v1.BalanceFilters\",\n        data: data(),\n        metadata: metadata(),\n        system: system(),\n        usagePercent: usage,\n        limitChunks: BigInt(limit),\n      },\n      limitPercent: 0, // Not commonly used\n      background: false,\n      dryRun: dryRun(),\n      force: force(),\n    });\n    // Reset fields\n    resetFields();\n  };\n\n  const resetFields = () => {\n    setData(true);\n    setMetadata(true);\n    setSystem(false);\n    setUsagePercent(\"50\");\n    setLimitChunks(\"\");\n    setDryRun(false);\n    setForce(false);\n  };\n\n  const handleClose = () => {\n    resetFields();\n    props.onClose();\n  };\n\n  return (\n    <Modal open={props.open} onClose={handleClose} title=\"Start Balance\">\n      <div class=\"space-y-4\">\n        <p class=\"text-xs text-text-tertiary\">\n          Balance redistributes data across devices to optimize space usage.\n          This can take a long time depending on filesystem size.\n        </p>\n\n        <div class=\"space-y-3\">\n          {/* Data type filters */}\n          <div class=\"space-y-2\">\n            <span class=\"text-sm text-text-default\">Balance types</span>\n            <div class=\"flex space-x-4\">\n              <label class=\"flex items-center space-x-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={data()}\n                  onChange={(e) => setData(e.currentTarget.checked)}\n                  class=\"w-4 h-4 accent-primary\"\n                />\n                <span class=\"text-sm text-text-secondary\">Data</span>\n              </label>\n              <label class=\"flex items-center space-x-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={metadata()}\n                  onChange={(e) => setMetadata(e.currentTarget.checked)}\n                  class=\"w-4 h-4 accent-primary\"\n                />\n                <span class=\"text-sm text-text-secondary\">Metadata</span>\n              </label>\n              <label class=\"flex items-center space-x-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={system()}\n                  onChange={(e) => setSystem(e.currentTarget.checked)}\n                  class=\"w-4 h-4 accent-primary\"\n                />\n                <span class=\"text-sm text-text-secondary\">System</span>\n              </label>\n            </div>\n          </div>\n\n          {/* Usage filter */}\n          <div class=\"space-y-1\">\n            <label class=\"text-sm text-text-default\">\n              Usage filter <span class=\"text-xs text-text-muted\">(-dusage, -musage)</span>\n            </label>\n            <div class=\"flex items-center space-x-2\">\n              <input\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"1\"\n                value={usagePercent()}\n                onInput={(e) => setUsagePercent(e.currentTarget.value)}\n                placeholder=\"0\"\n                class=\"w-20 px-2 py-1 text-sm bg-bg-default border border-border-default rounded focus:outline-none focus:border-primary\"\n              />\n              <span class=\"text-sm text-text-muted\">% (0 = all chunks)</span>\n            </div>\n            <p class=\"text-xs text-text-muted\">\n              Only balance chunks with usage at or below this percentage.\n              50% is a safe default that targets half-empty chunks.\n            </p>\n          </div>\n\n          {/* Chunk limit */}\n          <div class=\"space-y-1\">\n            <label class=\"text-sm text-text-default\">\n              Chunk limit <span class=\"text-xs text-text-muted\">(-dlimit, -mlimit)</span>\n            </label>\n            <div class=\"flex items-center space-x-2\">\n              <input\n                type=\"number\"\n                min=\"0\"\n                step=\"1\"\n                value={limitChunks()}\n                onInput={(e) => setLimitChunks(e.currentTarget.value)}\n                placeholder=\"0\"\n                class=\"w-24 px-2 py-1 text-sm bg-bg-default border border-border-default rounded focus:outline-none focus:border-primary\"\n              />\n              <span class=\"text-sm text-text-muted\">chunks (0 = no limit)</span>\n            </div>\n            <p class=\"text-xs text-text-muted\">\n              Limit total number of chunks to process. Useful for incremental balancing.\n            </p>\n          </div>\n\n          {/* Dry run checkbox */}\n          <label class=\"flex items-center space-x-2 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={dryRun()}\n              onChange={(e) => setDryRun(e.currentTarget.checked)}\n              class=\"w-4 h-4 accent-primary\"\n            />\n            <span class=\"text-sm text-text-default\">Dry run</span>\n          </label>\n          <p class=\"text-xs text-text-muted ml-6\">\n            Show what would be done without actually moving data.\n          </p>\n\n          {/* Force checkbox */}\n          <label class=\"flex items-center space-x-2 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={force()}\n              onChange={(e) => setForce(e.currentTarget.checked)}\n              class=\"w-4 h-4 accent-primary\"\n            />\n            <span class=\"text-sm text-text-default\">Force</span>\n            <span class=\"text-xs text-text-muted\">(-f)</span>\n          </label>\n          <p class=\"text-xs text-text-muted ml-6\">\n            Force starting even if a balance is already running.\n          </p>\n        </div>\n\n        {/* Buttons */}\n        <div class=\"flex justify-end space-x-2 pt-2 border-t border-border-subtle\">\n          <Button variant=\"soft\" onClick={handleClose}>\n            Cancel\n          </Button>\n          <Button variant=\"primary\" onClick={handleConfirm}>\n            Start Balance\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { Show, createMemo, createSignal, createResource, createEffect, onMount, onCleanup, Suspense } from \"solid-js\";\nimport type { TrackedFilesystem } from \"%/v1/filesystem_pb\";\nimport type { ScrubProgress } from \"%/v1/scrub_pb\";\nimport type { BalanceProgress } from \"%/v1/balance_pb\";\nimport { scrubClient, balanceClient } from \"@/api/client\";\nimport { formatNumber } from \"@/lib/utils\";\nimport { uiSettings } from \"@/stores/ui\";\nimport { Button, ProgressBar, ErrorSpan, WarnSpan, StatRow, FormattedBytes } from \"@/components/ui\";\nimport { ScrubConfirmModal, type ScrubOptions } from \"@/components/ScrubConfirmModal\";\nimport { BalanceConfirmModal, type BalanceOptions } from \"@/components/BalanceConfirmModal\";\n\nexport function MaintenanceTab(props: {\n  fs: TrackedFilesystem;\n  setError: (e: string) => void;\n  onRefresh: () => void;\n}) {\n  // Separate resources for scrub and balance - they load independently\n  const [scrubData, { refetch: refetchScrub }] = createResource(\n    () => props.fs.path,\n    (path) => scrubClient.getScrubStatus({ devicePath: path })\n  );\n  const [balanceData, { refetch: refetchBalance }] = createResource(\n    () => props.fs.path,\n    (path) => balanceClient.getBalanceStatus({ devicePath: path })\n  );\n\n  // Listen for refresh events\n  onMount(() => {\n    const handler = () => {\n      refetchScrub();\n      refetchBalance();\n    };\n    window.addEventListener(\"fs-refresh\", handler);\n    onCleanup(() => window.removeEventListener(\"fs-refresh\", handler));\n  });\n\n  // Track polling state\n  const [pollInterval, setPollInterval] = createSignal<ReturnType<typeof setInterval> | null>(null);\n  const [pollingCountdown, setPollingCountdown] = createSignal(2);\n  const [pollRetries, setPollRetries] = createSignal(0); // Retries before giving up if not running\n\n  // Running state derived from resource data\n  const scrubRunning = () => scrubData.latest?.isRunning ?? false;\n  const balanceRunning = () => balanceData.latest?.isRunning ?? false;\n\n  // Start polling if already running when data first loads\n  // Use a flag to ensure this only triggers on initial load, not on poll updates\n  let initialCheckDone = false;\n  createEffect(() => {\n    // Track the resources to react to their changes\n    const scrub = scrubData();\n    const balance = balanceData();\n    // Only check on initial load (first time both have data)\n    if (!initialCheckDone && scrub && balance) {\n      initialCheckDone = true;\n      if (scrub.isRunning || balance.isRunning) {\n        startPolling();\n      }\n    }\n  });\n\n  // Start polling with countdown\n  const startPolling = () => {\n    if (pollInterval()) return; // Already polling\n\n    // Refetch immediately\n    refetchScrub();\n    refetchBalance();\n    setPollingCountdown(2);\n    setPollRetries(5); // Poll at least 5 times before giving up\n\n    // Start countdown and polling interval\n    const interval = setInterval(() => {\n      setPollingCountdown((c) => {\n        if (c <= 1) {\n          // Time to poll\n          const stillRunning = scrubRunning() || balanceRunning();\n          const retriesLeft = pollRetries();\n\n          if (stillRunning || retriesLeft > 0) {\n            refetchScrub();\n            refetchBalance();\n            if (!stillRunning) {\n              setPollRetries(retriesLeft - 1);\n            }\n            return 2; // Reset countdown\n          } else {\n            // Stop polling - not running and no retries left\n            clearInterval(interval);\n            setPollInterval(null);\n            return 2;\n          }\n        }\n        return c - 1;\n      });\n    }, 1000);\n    setPollInterval(interval);\n  };\n\n  const stopPolling = () => {\n    const interval = pollInterval();\n    if (interval) {\n      clearInterval(interval);\n      setPollInterval(null);\n    }\n  };\n\n  // Cleanup on unmount\n  onCleanup(() => stopPolling());\n\n  const isPolling = () => pollInterval() !== null;\n\n  const startScrub = async (opts: ScrubOptions) => {\n    try {\n      await scrubClient.startScrub({\n        devicePath: props.fs.path,\n        readonly: opts.readonly,\n        limitBytesPerSec: opts.limitBytesPerSec,\n        force: opts.force,\n      });\n      // Start polling immediately after scrub starts\n      startPolling();\n    } catch (e) {\n      props.setError(String(e));\n    }\n  };\n\n  const cancelScrub = async () => {\n    try {\n      await scrubClient.cancelScrub({ devicePath: props.fs.path });\n      refetchScrub();\n    } catch (e) {\n      props.setError(String(e));\n    }\n  };\n\n  const startBalance = async (opts: BalanceOptions) => {\n    try {\n      await balanceClient.startBalance({\n        devicePath: props.fs.path,\n        filters: opts.filters,\n        limitPercent: opts.limitPercent,\n        background: opts.background,\n        dryRun: opts.dryRun,\n        force: opts.force,\n      });\n      // Start polling immediately after balance starts\n      startPolling();\n    } catch (e) {\n      props.setError(String(e));\n    }\n  };\n\n  const cancelBalance = async () => {\n    try {\n      await balanceClient.cancelBalance({ devicePath: props.fs.path });\n      refetchBalance();\n    } catch (e) {\n      props.setError(String(e));\n    }\n  };\n\n  return (\n    <div class=\"space-y-4\">\n      {/* Scrub section - loads independently */}\n      <ScrubSection\n        scrubData={scrubData}\n        scrubRunning={scrubRunning()}\n        onStart={startScrub}\n        onCancel={cancelScrub}\n        isPolling={isPolling()}\n        pollingCountdown={pollingCountdown()}\n      />\n\n      {/* Balance section - loads independently */}\n      <BalanceSection\n        balanceData={balanceData}\n        balanceRunning={balanceRunning()}\n        onStart={startBalance}\n        onCancel={cancelBalance}\n        isPolling={isPolling()}\n        pollingCountdown={pollingCountdown()}\n      />\n    </div>\n  );\n}\n\n// Circular countdown indicator\nfunction CountdownCircle(props: { countdown: number; total: number }) {\n  const radius = 5;\n  const circumference = 2 * Math.PI * radius;\n  const progress = () => (props.countdown / props.total) * circumference;\n\n  return (\n    <svg width=\"14\" height=\"14\" class=\"inline-block\" style={{ transform: \"rotate(-90deg)\" }}>\n      <circle\n        cx=\"7\"\n        cy=\"7\"\n        r={radius}\n        fill=\"none\"\n        stroke=\"currentColor\"\n        stroke-width=\"2\"\n        class=\"text-border-default\"\n      />\n      <circle\n        cx=\"7\"\n        cy=\"7\"\n        r={radius}\n        fill=\"none\"\n        stroke=\"currentColor\"\n        stroke-width=\"2\"\n        stroke-dasharray={circumference}\n        stroke-dashoffset={circumference - progress()}\n        class=\"text-primary\"\n      />\n    </svg>\n  );\n}\n\nfunction ScrubSection(props: {\n  scrubData: ReturnType<typeof createResource<Awaited<ReturnType<typeof scrubClient.getScrubStatus>>>>[0];\n  scrubRunning: boolean;\n  onStart: (opts: ScrubOptions) => void;\n  onCancel: () => void;\n  isPolling: boolean;\n  pollingCountdown: number;\n}) {\n  const showRawBytes = () => uiSettings().showRawBytes;\n  const [scrubModalOpen, setScrubModalOpen] = createSignal(false);\n  const [initialReadonly, setInitialReadonly] = createSignal(false);\n\n  // Use .latest to avoid suspending when data exists\n  const scrubStatus = () => props.scrubData.latest?.progress;\n\n  const hasErrors = createMemo(() => {\n    const s = scrubStatus();\n    if (!s) return false;\n    return s.readErrors > 0 || s.csumErrors > 0 || s.verifyErrors > 0 ||\n      s.superErrors > 0 || s.mallocErrors > 0 || s.unverifiedErrors > 0 ||\n      s.dataErrors > 0 || s.treeErrors > 0 || s.uncorrectableErrors > 0;\n  });\n\n  const scrubStatusBadge = createMemo(() => {\n    const s = scrubStatus();\n    if (!s) return { class: \"text-text-muted\", text: \"never run\" };\n    if (props.scrubRunning) {\n      return { class: \"text-primary\", text: `running ${s.progressPercent.toFixed(1)}%` };\n    }\n    if (s.status === \"finished\") {\n      if (hasErrors()) {\n        return { class: \"text-error\", text: \"finished with errors\" };\n      }\n      return { class: \"text-success\", text: \"ok\" };\n    }\n    if (s.status === \"aborted\" || s.status === \"canceled\") {\n      return { class: \"text-warning\", text: s.status };\n    }\n    return { class: \"text-text-tertiary\", text: s.status || \"unknown\" };\n  });\n\n  return (\n    <section>\n      <div class=\"flex items-center justify-between mb-2\">\n        <div class=\"flex items-center gap-2\">\n          <h3 class=\"text-xs font-medium text-text-secondary\">scrub</h3>\n          <Show when={props.isPolling && props.scrubRunning}>\n            <span class=\"flex items-center gap-1 text-[10px] text-text-muted\">\n              <CountdownCircle countdown={props.pollingCountdown} total={2} />\n            </span>\n          </Show>\n        </div>\n        <div class=\"flex space-x-1\">\n          <Show when={props.scrubRunning}>\n            <Button variant=\"danger\" onClick={props.onCancel}>cancel</Button>\n          </Show>\n          <Show when={!props.scrubRunning}>\n            <Button variant=\"primary\" onClick={() => { setInitialReadonly(false); setScrubModalOpen(true); }}>scrub</Button>\n            <Button variant=\"soft\" title=\"read-only (no repair)\" onClick={() => { setInitialReadonly(true); setScrubModalOpen(true); }}>r/o</Button>\n          </Show>\n        </div>\n      </div>\n\n      {/* Progress bar if running */}\n      <Show when={props.scrubRunning && scrubStatus()}>\n        <ProgressBar value={scrubStatus()!.progressPercent} size=\"sm\" colorClass=\"bg-primary\" class=\"mb-2\" />\n      </Show>\n\n      {/* Stats table - use .latest to avoid full re-render */}\n      <Suspense fallback={<div class=\"text-xs text-text-tertiary\">loading scrub status...</div>}>\n        <Show when={props.scrubData.latest}>\n          <ScrubStats\n            scrubStatus={scrubStatus()}\n            scrubRunning={props.scrubRunning}\n            showRawBytes={showRawBytes()}\n            statusBadge={scrubStatusBadge()}\n            hasErrors={hasErrors()}\n          />\n        </Show>\n      </Suspense>\n\n      {/* Scrub confirmation modal */}\n      <ScrubConfirmModal\n        open={scrubModalOpen()}\n        onClose={() => setScrubModalOpen(false)}\n        onConfirm={(opts) => {\n          setScrubModalOpen(false);\n          props.onStart(opts);\n        }}\n        initialReadonly={initialReadonly()}\n      />\n    </section>\n  );\n}\n\nfunction ScrubStats(props: {\n  scrubStatus: ScrubProgress | undefined;\n  scrubRunning: boolean;\n  showRawBytes: boolean;\n  statusBadge: { class: string; text: string };\n  hasErrors: boolean;\n}) {\n  return (\n    <table class=\"w-full text-xs\">\n      <tbody>\n        {/* Status row */}\n        <StatRow label=\"status\">\n          <span class={props.statusBadge.class}>{props.statusBadge.text}</span>\n        </StatRow>\n        <Show when={props.scrubStatus}>\n          {(scrub) => (\n            <>\n              {/* Time row */}\n              <StatRow label=\"time\">\n                <Show when={scrub().startedAt > 0n} fallback=\"-\">\n                  <span>{new Date(Number(scrub().startedAt) * 1000).toLocaleString(\"sv-SE\", { dateStyle: \"short\", timeStyle: \"short\" })}</span>\n                  <Show when={scrub().finishedAt > 0n && !props.scrubRunning}>\n                    <span class=\"text-text-muted\"> â†’ {new Date(Number(scrub().finishedAt) * 1000).toLocaleTimeString(\"sv-SE\", { timeStyle: \"short\" })}</span>\n                  </Show>\n                  <Show when={scrub().duration}>\n                    <span class=\"text-text-muted ml-2\">({scrub().duration})</span>\n                  </Show>\n                </Show>\n              </StatRow>\n              {/* Scrubbed data row */}\n              <StatRow label=\"scrubbed\">\n                <span class=\"font-mono\">\n                  <FormattedBytes bytes={scrub().bytesScrubbed} showRaw={props.showRawBytes} />\n                  <Show when={scrub().totalBytes > 0n}>\n                    <span class=\"text-text-muted mx-1\">/</span>\n                    <FormattedBytes bytes={scrub().totalBytes} showRaw={props.showRawBytes} />\n                  </Show>\n                </span>\n              </StatRow>\n              {/* Data extents row */}\n              <StatRow label=\"data\">\n                <span class=\"font-mono\">\n                  <FormattedBytes bytes={scrub().dataBytesScrubbed} showRaw={props.showRawBytes} />\n                  <span class=\"text-text-muted ml-2\">(</span>\n                  <span>{formatNumber(scrub().dataExtentsScrubbed)}</span>\n                  <span class=\"text-text-muted ml-0.5\">extents)</span>\n                </span>\n              </StatRow>\n              {/* Tree extents row */}\n              <StatRow label=\"tree\">\n                <span class=\"font-mono\">\n                  <FormattedBytes bytes={scrub().treeBytesScrubbed} showRaw={props.showRawBytes} />\n                  <span class=\"text-text-muted ml-2\">(</span>\n                  <span>{formatNumber(scrub().treeExtentsScrubbed)}</span>\n                  <span class=\"text-text-muted ml-0.5\">extents)</span>\n                </span>\n              </StatRow>\n              {/* Errors row */}\n              <StatRow label=\"errors\">\n                <Show when={!props.hasErrors} fallback={\n                  <div class=\"flex flex-wrap gap-x-3 gap-y-1\">\n                    <ErrorSpan label=\"data\" count={scrub().dataErrors} />\n                    <ErrorSpan label=\"tree\" count={scrub().treeErrors} />\n                    <ErrorSpan label=\"read\" count={scrub().readErrors} />\n                    <ErrorSpan label=\"csum\" count={scrub().csumErrors} />\n                    <ErrorSpan label=\"verify\" count={scrub().verifyErrors} />\n                    <ErrorSpan label=\"super\" count={scrub().superErrors} />\n                    <ErrorSpan label=\"malloc\" count={scrub().mallocErrors} />\n                    <ErrorSpan label=\"unverified\" count={scrub().unverifiedErrors} />\n                    <ErrorSpan label=\"uncorrectable\" count={scrub().uncorrectableErrors} critical />\n                    <WarnSpan label=\"corrected\" count={scrub().correctedErrors} />\n                  </div>\n                }>\n                  <span class=\"text-success\">none</span>\n                </Show>\n              </StatRow>\n              {/* Checksums row */}\n              <StatRow label=\"csum\">\n                <span class=\"font-mono\">\n                  <span class=\"text-text-tertiary\">no_csum:</span>\n                  <span>{formatNumber(scrub().noCsum)}</span>\n                  <span class=\"text-text-tertiary ml-3\">discards:</span>\n                  <span>{formatNumber(scrub().csumDiscards)}</span>\n                </span>\n              </StatRow>\n              {/* Last physical row */}\n              <Show when={scrub().lastPhysical > 0n}>\n                <StatRow label=\"position\">\n                  <span class=\"font-mono\">\n                    <FormattedBytes bytes={scrub().lastPhysical} showRaw={props.showRawBytes} />\n                  </span>\n                </StatRow>\n              </Show>\n            </>\n          )}\n        </Show>\n      </tbody>\n    </table>\n  );\n}\n\nfunction BalanceSection(props: {\n  balanceData: ReturnType<typeof createResource<Awaited<ReturnType<typeof balanceClient.getBalanceStatus>>>>[0];\n  balanceRunning: boolean;\n  onStart: (opts: BalanceOptions) => void;\n  onCancel: () => void;\n  isPolling: boolean;\n  pollingCountdown: number;\n}) {\n  const showRawBytes = () => uiSettings().showRawBytes;\n  const [balanceModalOpen, setBalanceModalOpen] = createSignal(false);\n\n  // Use .latest to avoid suspending when data exists\n  const balanceStatus = () => props.balanceData.latest?.progress;\n\n  const balanceStatusBadge = createMemo(() => {\n    const s = balanceStatus();\n    if (!s || s.status === \"idle\" || s.status === \"never_run\") {\n      return { class: \"text-text-muted\", text: \"idle\" };\n    }\n    if (props.balanceRunning) {\n      const pct = s.progressPercent?.toFixed(1) || \"0\";\n      return { class: \"text-primary\", text: `running ${pct}%` };\n    }\n    if (s.status === \"paused\") {\n      return { class: \"text-warning\", text: \"paused\" };\n    }\n    if (s.status === \"finished\") {\n      return { class: \"text-success\", text: \"finished\" };\n    }\n    if (s.status === \"cancelled\") {\n      return { class: \"text-warning\", text: \"cancelled\" };\n    }\n    return { class: \"text-text-tertiary\", text: s.status || \"unknown\" };\n  });\n\n  return (\n    <section>\n      <div class=\"flex items-center justify-between mb-2\">\n        <div class=\"flex items-center gap-2\">\n          <h3 class=\"text-xs font-medium text-text-secondary\">balance</h3>\n          <Show when={props.isPolling && props.balanceRunning}>\n            <span class=\"flex items-center gap-1 text-[10px] text-text-muted\">\n              <CountdownCircle countdown={props.pollingCountdown} total={2} />\n            </span>\n          </Show>\n        </div>\n        <div class=\"flex space-x-1\">\n          <Show when={props.balanceRunning}>\n            <Button variant=\"danger\" onClick={props.onCancel}>cancel</Button>\n          </Show>\n          <Show when={!props.balanceRunning}>\n            <Button variant=\"primary\" onClick={() => setBalanceModalOpen(true)}>balance</Button>\n          </Show>\n        </div>\n      </div>\n\n      {/* Progress bar if running */}\n      <Show when={props.balanceRunning && balanceStatus()}>\n        <ProgressBar value={balanceStatus()!.progressPercent} size=\"sm\" colorClass=\"bg-primary\" class=\"mb-2\" />\n      </Show>\n\n      {/* Stats table - use .latest to avoid full re-render */}\n      <Suspense fallback={<div class=\"text-xs text-text-tertiary\">loading balance status...</div>}>\n        <Show when={props.balanceData.latest}>\n          <BalanceStats\n            balanceStatus={balanceStatus()}\n            balanceRunning={props.balanceRunning}\n            showRawBytes={showRawBytes()}\n            statusBadge={balanceStatusBadge()}\n          />\n        </Show>\n      </Suspense>\n\n      {/* Balance confirmation modal */}\n      <BalanceConfirmModal\n        open={balanceModalOpen()}\n        onClose={() => setBalanceModalOpen(false)}\n        onConfirm={(opts) => {\n          setBalanceModalOpen(false);\n          props.onStart(opts);\n        }}\n      />\n    </section>\n  );\n}\n\nfunction BalanceStats(props: {\n  balanceStatus: BalanceProgress | undefined;\n  balanceRunning: boolean;\n  showRawBytes: boolean;\n  statusBadge: { class: string; text: string };\n}) {\n  return (\n    <table class=\"w-full text-xs\">\n      <tbody>\n        {/* Status row */}\n        <StatRow label=\"status\">\n          <span class={props.statusBadge.class}>{props.statusBadge.text}</span>\n        </StatRow>\n        <Show when={props.balanceStatus && props.balanceStatus.status !== \"idle\"}>\n          {(bal) => (\n            <>\n              {/* Progress row */}\n              <Show when={bal().totalChunks > 0n}>\n                <StatRow label=\"progress\">\n                  <span class=\"font-mono\">\n                    <span>{formatNumber(bal().relocated)}</span>\n                    <span class=\"text-text-muted mx-1\">/</span>\n                    <span>{formatNumber(bal().totalChunks)}</span>\n                    <span class=\"text-text-muted ml-1\">chunks</span>\n                    <Show when={bal().left > 0n}>\n                      <span class=\"text-text-muted ml-2\">({formatNumber(bal().left)} left)</span>\n                    </Show>\n                  </span>\n                </StatRow>\n              </Show>\n              {/* Considered row */}\n              <Show when={bal().considered > 0n}>\n                <StatRow label=\"considered\">\n                  <span class=\"font-mono\">{formatNumber(bal().considered)} chunks</span>\n                </StatRow>\n              </Show>\n              {/* Size relocated row */}\n              <Show when={bal().sizeRelocated > 0n}>\n                <StatRow label=\"relocated\">\n                  <span class=\"font-mono\">\n                    <FormattedBytes bytes={bal().sizeRelocated} showRaw={props.showRawBytes} />\n                  </span>\n                </StatRow>\n              </Show>\n              {/* Errors row */}\n              <Show when={bal().softErrors > 0}>\n                <StatRow label=\"errors\">\n                  <WarnSpan label=\"soft\" count={bal().softErrors} />\n                </StatRow>\n              </Show>\n              {/* Duration row */}\n              <Show when={bal().duration}>\n                <StatRow label=\"duration\">\n                  <span class=\"font-mono\">{bal().duration}</span>\n                </StatRow>\n              </Show>\n            </>\n          )}\n        </Show>\n      </tbody>\n    </table>\n  );\n}\n","import { createSignal, createResource, Show, For, createMemo, onMount, onCleanup, createEffect, Suspense } from \"solid-js\";\nimport { fragmapClient } from \"@/api/client\";\nimport { formatBytes, formatNumber } from \"@/lib/utils\";\nimport { uiSettings } from \"@/stores/ui\";\nimport type { BlockMapEntry, FragStats, Device } from \"%/v1/fragmap_pb\";\nimport { Poline, positionFunctions } from \"poline\";\n\n// Convert HSL to RGB\nconst hslToRgb = (h: number, s: number, l: number): [number, number, number] => {\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const x = c * (1 - Math.abs(((h / 60) % 2) - 1));\n  const m = l - c / 2;\n  let r = 0, g = 0, b = 0;\n  if (h < 60) { r = c; g = x; }\n  else if (h < 120) { r = x; g = c; }\n  else if (h < 180) { g = c; b = x; }\n  else if (h < 240) { g = x; b = c; }\n  else if (h < 300) { r = x; b = c; }\n  else { r = c; b = x; }\n  return [\n    Math.round((r + m) * 255),\n    Math.round((g + m) * 255),\n    Math.round((b + m) * 255),\n  ];\n};\n\n// Generate device palette using poline - rainbow with consistent lightness\nconst generateDevicePalette = (numDevices: number): [number, number, number][] => {\n  // Rainbow anchor colors starting from cyan/blue, consistent saturation & lightness\n  const anchorColors: [number, number, number][] = [\n    [180, 0.60, 0.42],  // cyan\n    [220, 0.65, 0.45],  // blue\n    [270, 0.60, 0.45],  // purple\n    [320, 0.65, 0.45],  // magenta\n    [0, 0.65, 0.45],    // red\n    [30, 0.65, 0.45],   // orange\n    [60, 0.65, 0.45],   // yellow\n    [120, 0.60, 0.40],  // green\n  ];\n\n  const poline = new Poline({\n    anchorColors,\n    numPoints: Math.max(Math.ceil(numDevices / (anchorColors.length - 1)), 2),\n    positionFunction: positionFunctions.linearPosition,\n  });\n\n  return poline.colors.slice(0, numDevices).map(([h, s, l]) => {\n    // Clamp lightness to ensure consistent range for utilization display\n    const clampedL = Math.max(0.38, Math.min(0.48, l));\n    return hslToRgb(h, s, clampedL);\n  });\n};\n\ninterface Props {\n  fsPath: string;\n}\n\n// Color mapping for block types - using semantic viz colors\nconst typeColors = {\n  data: { bg: \"bg-viz-data\", hex: \"var(--color-viz-data)\", isFree: false, rgb: [59, 130, 246] as [number, number, number] },\n  metadata: { bg: \"bg-viz-metadata\", hex: \"var(--color-viz-metadata)\", isFree: false, rgb: [168, 85, 247] as [number, number, number] },\n  system: { bg: \"bg-viz-system\", hex: \"var(--color-viz-system)\", isFree: false, rgb: [249, 115, 22] as [number, number, number] },\n  free: { bg: \"bg-viz-free\", hex: \"var(--color-viz-free)\", isFree: true, rgb: [229, 231, 235] as [number, number, number] },\n};\n\nfunction getBlockTypeColor(type: bigint): { bg: string; hex: string; isFree: boolean; rgb: [number, number, number] } {\n  const t = Number(type);\n  if (t & 1) return typeColors.data;\n  if (t & 4) return typeColors.metadata;\n  if (t & 2) return typeColors.system;\n  return typeColors.free;\n}\n\n// Block type constants for filtering\ntype BlockType = \"data\" | \"metadata\" | \"system\" | \"free\";\n\nfunction getBlockType(type: bigint, allocated: boolean): BlockType {\n  if (!allocated) return \"free\";\n  const t = Number(type);\n  if (t & 1) return \"data\";\n  if (t & 4) return \"metadata\";\n  if (t & 2) return \"system\";\n  return \"free\";\n}\n\nexport function FragMapViz(props: Props) {\n  const [viewMode, setViewMode] = createSignal<\"heatmap\" | \"blockmap\">(\"blockmap\");\n\n  // Legend filter state - which type is selected and which index we're on\n  const [legendFilter, setLegendFilter] = createSignal<{ type: BlockType; index: number } | null>(null);\n\n  // Single fetch for all block maps - includes device info, entries, and stats\n  const [allBlockMaps] = createResource(\n    () => props.fsPath,\n    async (fsPath) => {\n      const resp = await fragmapClient.getDeviceBlockMaps({ fsPath, deviceIds: [] });\n      return resp.maps.map((m) => ({\n        device: m.device!,\n        entries: m.entries,\n        totalSize: m.totalSize,\n        stats: m.stats || null,\n      }));\n    }\n  );\n\n  // Extract devices from block maps for legend\n  const devices = () => allBlockMaps()?.map(m => m.device) || [];\n\n  // Handle legend click - cycle through extents of that type\n  const handleLegendClick = (type: BlockType) => {\n    const current = legendFilter();\n    if (current?.type === type) {\n      // Same type clicked - go to next extent\n      setLegendFilter({ type, index: current.index + 1 });\n    } else {\n      // Different type - start at first extent\n      setLegendFilter({ type, index: 0 });\n    }\n  };\n\n  // Clear filter when switching views\n  createEffect(() => {\n    viewMode();\n    setLegendFilter(null);\n  });\n\n  return (\n    <div class=\"space-y-3\">\n      {/* Controls */}\n      <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center space-x-2\">\n            {/* View mode toggle */}\n            <div class=\"flex\">\n              <button\n                class={`px-2 py-1 text-xs cursor-pointer ${viewMode() === \"blockmap\" ? \"bg-interactive text-text-inverse\" : \"bg-bg-muted text-text-secondary\"}`}\n                onClick={() => setViewMode(\"blockmap\")}\n              >\n                layout\n              </button>\n              <button\n                class={`px-2 py-1 text-xs cursor-pointer ${viewMode() === \"heatmap\" ? \"bg-interactive text-text-inverse\" : \"bg-bg-muted text-text-secondary\"}`}\n                onClick={() => setViewMode(\"heatmap\")}\n              >\n                density\n              </button>\n            </div>\n          </div>\n\n          {/* Legend - changes based on view mode */}\n          <Show when={viewMode() === \"blockmap\"}>\n            <div class=\"flex items-center space-x-3 text-xs\">\n              <For each={[\"data\", \"metadata\", \"system\", \"free\"] as BlockType[]}>\n                {(type) => (\n                  <button\n                    class={`flex items-center cursor-pointer hover:underline ${legendFilter()?.type === type ? \"font-bold\" : \"\"}`}\n                    onClick={() => handleLegendClick(type)}\n                    title={`Click to cycle through ${type} extents`}\n                  >\n                    <span class={`w-3 h-3 ${typeColors[type].bg} mr-1`}></span>\n                    {type}\n                  </button>\n                )}\n              </For>\n            </div>\n          </Show>\n          <Show when={viewMode() === \"heatmap\" && devices().length > 0}>\n            {(() => {\n              const devs = devices();\n              const palette = generateDevicePalette(Math.max(devs.length, 2));\n              return (\n                <div class=\"flex items-center space-x-4 text-xs\">\n                  {/* Device colors */}\n                  <div class=\"flex items-center space-x-2\">\n                    <For each={devs}>\n                      {(device, idx) => {\n                        const [r, g, b] = palette[idx() % palette.length];\n                        const color = `rgb(${r}, ${g}, ${b})`;\n                        const label = device.path ? device.path.split('/').pop() : `dev${device.id}`;\n                        return (\n                          <span class=\"flex items-center\">\n                            <span class=\"w-3 h-3 mr-1\" style={{ \"background-color\": color }}></span>\n                            {label}\n                          </span>\n                        );\n                      }}\n                    </For>\n                  </div>\n                  {/* Utilization gradient */}\n                  <div class=\"flex items-center space-x-1\">\n                    <span class=\"text-text-muted\">0%</span>\n                    {(() => {\n                      const [r, g, b] = palette[0];\n                      return (\n                        <div class=\"w-16 h-3 rounded-sm\" style={{\n                          background: `linear-gradient(to right, rgb(240, 245, 250), rgb(${r}, ${g}, ${b}))`\n                        }}></div>\n                      );\n                    })()}\n                    <span class=\"text-text-muted\">100%</span>\n                  </div>\n                </div>\n              );\n            })()}\n          </Show>\n        </div>\n\n      {/* All devices visualization */}\n      <Suspense fallback={\n        <div class=\"h-32 flex items-center justify-center text-text-muted text-xs\">\n          loading...\n        </div>\n      }>\n        <div class=\"space-y-4 relative\">\n          {/* Loading overlay - only show when refreshing (has data but loading) */}\n          <Show when={allBlockMaps.loading && allBlockMaps()}>\n            <div class=\"absolute top-0 right-0 text-xs text-text-muted\">\n              refreshing...\n            </div>\n          </Show>\n\n          {/* Block map view - combined layout for all devices */}\n          <Show when={viewMode() === \"blockmap\" && allBlockMaps()}>\n            {(maps) => {\n              const totalSize = () => maps().reduce((sum, m) => sum + Number(m.totalSize), 0);\n              const totalAllocated = () => maps().reduce((sum, m) => sum + Number(m.stats?.allocatedSize || 0n), 0);\n              const totalExtents = () => maps().reduce((sum, m) => sum + (m.stats?.numExtents || 0), 0);\n              const usedPct = () => totalSize() > 0 ? ((totalAllocated() / totalSize()) * 100).toFixed(1) : \"0\";\n              return (\n                <div>\n                  <div class=\"flex items-center justify-between mb-2\">\n                    <span class=\"text-xs font-medium\">\n                      {maps().length} device{maps().length !== 1 ? \"s\" : \"\"}\n                      <span class=\"text-text-muted ml-2\">({formatBytes(BigInt(totalSize()), uiSettings().showRawBytes)} total)</span>\n                    </span>\n                    <span class=\"text-xs text-text-secondary\">\n                      {usedPct()}% allocated\n                      <span class=\"text-text-muted ml-2\">\n                        {formatNumber(totalExtents())} extents\n                      </span>\n                    </span>\n                  </div>\n                  <BaseGridView\n                    maps={maps()}\n                    showRawBytes={uiSettings().showRawBytes}\n                    colorMode=\"type\"\n                    selectByType={legendFilter()}\n                  />\n                </div>\n              );\n            }}\n          </Show>\n\n          {/* Grid map view - stays mounted once data exists */}\n          <Show when={viewMode() === \"heatmap\" && allBlockMaps()}>\n            {(maps) => {\n              const totalSize = () => maps().reduce((sum, m) => sum + Number(m.totalSize), 0);\n              const totalAllocated = () => maps().reduce((sum, m) => sum + Number(m.stats?.allocatedSize || 0n), 0);\n              const totalExtents = () => maps().reduce((sum, m) => sum + (m.stats?.numExtents || 0), 0);\n              const usedPct = () => totalSize() > 0 ? ((totalAllocated() / totalSize()) * 100).toFixed(1) : \"0\";\n              return (\n                <div>\n                  <div class=\"flex items-center justify-between mb-2\">\n                    <span class=\"text-xs font-medium\">\n                      {maps().length} device{maps().length !== 1 ? \"s\" : \"\"}\n                      <span class=\"text-text-muted ml-2\">({formatBytes(BigInt(totalSize()), uiSettings().showRawBytes)} total)</span>\n                    </span>\n                    <span class=\"text-xs text-text-secondary\">\n                      {usedPct()}% used\n                      <span class=\"text-text-muted ml-2\">\n                        {formatNumber(totalExtents())} extents\n                      </span>\n                    </span>\n                  </div>\n                  <BaseGridView\n                    maps={maps()}\n                    showRawBytes={uiSettings().showRawBytes}\n                    colorMode=\"utilization\"\n                  />\n                </div>\n              );\n            }}\n          </Show>\n        </div>\n      </Suspense>\n    </div>\n  );\n}\n\n// Fragmentation heat map - shows utilization per region with serpentine layout\ninterface DeviceBlockMap {\n  device: Device;\n  entries: BlockMapEntry[];\n  totalSize: bigint;\n  stats: FragStats | null;\n}\n\n// Extent cell - represents a single extent with its physical size\ninterface ExtentCell {\n  device: Device;\n  offset: bigint;\n  length: bigint;\n  allocated: boolean;\n  type: bigint;\n  // Chunk utilization (bytes used / chunk length)\n  chunkUsed: bigint;\n  chunkLength: bigint;\n  // Pixel position calculated during layout\n  pixelStart: number;\n  pixelEnd: number;\n}\n\n// Color modes for the grid view\ntype ColorMode = \"type\" | \"utilization\";\n\n// Unified grid view component - used for both layout and density views\nfunction BaseGridView(props: {\n  maps: DeviceBlockMap[];\n  showRawBytes: boolean;\n  colorMode: ColorMode;\n  selectByType?: { type: BlockType; index: number } | null;\n}) {\n  const [hoveredExtent, setHoveredExtent] = createSignal<ExtentCell | null>(null);\n  const [lockedExtent, setLockedExtent] = createSignal<ExtentCell | null>(null);\n  const [containerWidth, setContainerWidth] = createSignal(800);\n  const [canvasDimensions, setCanvasDimensions] = createSignal({ width: 800, height: 200 });\n  const [isDrawing, setIsDrawing] = createSignal(true);\n  let canvasRef: HTMLCanvasElement | undefined;\n  let containerRef: HTMLDivElement | undefined;\n\n  const ROW_HEIGHT = 12;\n\n  // Calculate highlight SVG path for the current extent\n  // Creates a single continuous outline around multi-row extents\n  const extentHighlightPath = createMemo(() => {\n    const ext = lockedExtent() || hoveredExtent();\n    if (!ext) return null;\n\n    const width = containerWidth();\n    const rows = Math.ceil(width / 1.618 / ROW_HEIGHT);\n\n    // Calculate all the rows this extent spans\n    const startRow = Math.floor(ext.pixelStart / width);\n    const endRow = Math.floor((ext.pixelEnd - 1) / width);\n\n    if (startRow > endRow || startRow >= rows) return null;\n\n    // Build list of rectangles for each row (we need these for the path)\n    const rowRects: { x: number; y: number; w: number; h: number; row: number }[] = [];\n\n    for (let row = startRow; row <= endRow && row < rows; row++) {\n      const rowPixelStart = row * width;\n      const rowPixelEnd = (row + 1) * width;\n\n      const extStartInRow = Math.max(ext.pixelStart, rowPixelStart);\n      const extEndInRow = Math.min(ext.pixelEnd, rowPixelEnd);\n\n      const startCol = extStartInRow - rowPixelStart;\n      const endCol = extEndInRow - rowPixelStart;\n\n      let x1: number, x2: number;\n      if (row % 2 === 0) {\n        x1 = startCol;\n        x2 = endCol;\n      } else {\n        x1 = width - endCol;\n        x2 = width - startCol;\n      }\n\n      rowRects.push({\n        x: Math.min(x1, x2),\n        y: row * ROW_HEIGHT,\n        w: Math.abs(x2 - x1),\n        h: ROW_HEIGHT,\n        row,\n      });\n    }\n\n    if (rowRects.length === 0) return null;\n\n    // Single row - simple rectangle path\n    if (rowRects.length === 1) {\n      const r = rowRects[0];\n      return `M ${r.x} ${r.y} h ${r.w} v ${r.h} h ${-r.w} Z`;\n    }\n\n    // Multiple rows - build a path that traces the outline\n    // We go clockwise: top of first row, then down right side, bottom of last row, up left side\n    const pathParts: string[] = [];\n\n    // Start at top-left of first row\n    const first = rowRects[0];\n    pathParts.push(`M ${first.x} ${first.y}`);\n\n    // Trace top edge of first row\n    pathParts.push(`h ${first.w}`);\n\n    // Go down the right side, handling serpentine connections\n    for (let i = 0; i < rowRects.length; i++) {\n      const curr = rowRects[i];\n      const next = rowRects[i + 1];\n\n      if (next) {\n        // Move down to next row, adjusting for different x positions\n        const currRight = curr.x + curr.w;\n        const nextRight = next.x + next.w;\n\n        pathParts.push(`v ${curr.h}`); // down to bottom of current row\n        if (nextRight !== currRight) {\n          pathParts.push(`h ${nextRight - currRight}`); // horizontal adjustment\n        }\n      } else {\n        // Last row - go down and trace bottom\n        pathParts.push(`v ${curr.h}`);\n      }\n    }\n\n    // Trace bottom edge of last row (right to left)\n    const last = rowRects[rowRects.length - 1];\n    pathParts.push(`h ${-last.w}`);\n\n    // Go up the left side\n    for (let i = rowRects.length - 1; i >= 0; i--) {\n      const curr = rowRects[i];\n      const prev = rowRects[i - 1];\n\n      if (prev) {\n        const currLeft = curr.x;\n        const prevLeft = prev.x;\n\n        pathParts.push(`v ${-curr.h}`); // up to top of current row\n        if (prevLeft !== currLeft) {\n          pathParts.push(`h ${prevLeft - currLeft}`); // horizontal adjustment\n        }\n      } else {\n        // First row - go up to close\n        pathParts.push(`v ${-curr.h}`);\n      }\n    }\n\n    pathParts.push('Z');\n\n    return pathParts.join(' ');\n  });\n\n  // Map device ID to color index\n  const deviceColorMap = createMemo(() => {\n    const map = new Map<bigint, number>();\n    props.maps.forEach((m, idx) => {\n      map.set(m.device.id, idx);\n    });\n    return map;\n  });\n\n  // Device color palette - generated using poline\n  const devicePalette = createMemo(() => {\n    const numDevices = props.maps.length;\n    return generateDevicePalette(Math.max(numDevices, 2));\n  });\n\n  // Flatten all extents from all devices with pixel positions proportional to size\n  const allExtents = createMemo(() => {\n    // Calculate total size across all devices\n    let totalSize = 0n;\n    for (const map of props.maps) {\n      totalSize += map.totalSize;\n    }\n    if (totalSize === 0n) return { extents: [] as ExtentCell[], totalPixels: 0, bytesPerPixel: 1 };\n\n    const width = containerWidth();\n    const rows = Math.ceil(width / 1.618 / ROW_HEIGHT); // Golden ratio aspect\n    const totalPixels = width * rows;\n    const bytesPerPixel = Number(totalSize) / totalPixels;\n\n    const extents: ExtentCell[] = [];\n    let globalByteOffset = 0;\n\n    for (const map of props.maps) {\n      for (const entry of map.entries) {\n        const startByte = globalByteOffset + Number(entry.offset);\n        const endByte = startByte + Number(entry.length);\n\n        extents.push({\n          device: map.device,\n          offset: entry.offset,\n          length: entry.length,\n          allocated: entry.allocated,\n          type: entry.type,\n          chunkUsed: entry.chunkUsed,\n          chunkLength: entry.chunkLength,\n          pixelStart: Math.floor(startByte / bytesPerPixel),\n          pixelEnd: Math.ceil(endByte / bytesPerPixel),\n        });\n      }\n      globalByteOffset += Number(map.totalSize);\n    }\n\n    return { extents, totalPixels, bytesPerPixel };\n  });\n\n  // Handle selectByType - just selects the nth extent of the specified type (like a normal click)\n  createEffect(() => {\n    const sel = props.selectByType;\n    if (!sel) return;\n\n    const { extents } = allExtents();\n    const matchingExtents = extents.filter(ext => getBlockType(ext.type, ext.allocated) === sel.type);\n\n    if (matchingExtents.length === 0) return;\n\n    // Wrap around if index exceeds count\n    const actualIndex = sel.index % matchingExtents.length;\n    const selectedExtent = matchingExtents[actualIndex];\n    setLockedExtent(selectedExtent);\n    setHoveredExtent(selectedExtent);\n  });\n\n  const drawGrid = () => {\n    if (!canvasRef || !containerRef) return;\n    const ctx = canvasRef.getContext('2d');\n    if (!ctx) return;\n\n    const width = containerRef.clientWidth;\n    if (width !== containerWidth()) {\n      setContainerWidth(width);\n      return;\n    }\n\n    setIsDrawing(true);\n\n    requestAnimationFrame(() => {\n      const rows = Math.ceil(width / 1.618 / ROW_HEIGHT);\n      const canvasWidth = width;\n      const canvasHeight = rows * ROW_HEIGHT;\n\n      canvasRef!.width = canvasWidth;\n      canvasRef!.height = canvasHeight;\n      setCanvasDimensions({ width: canvasWidth, height: canvasHeight });\n\n      const { extents } = allExtents();\n      const palette = devicePalette();\n      const colorMap = deviceColorMap();\n\n      // Use ImageData for fast pixel writing\n      const imageData = ctx.createImageData(canvasWidth, canvasHeight);\n      const data32 = new Uint32Array(imageData.data.buffer);\n\n      // Fill with background (free space color - light gray)\n      const bgColor = (255 << 24) | (240 << 16) | (240 << 8) | 240;\n      data32.fill(bgColor);\n\n      // Draw each extent proportionally\n      for (const extent of extents) {\n        let r: number, g: number, b: number;\n\n        if (props.colorMode === \"type\") {\n          // Type mode: color by data/metadata/system/free\n          const typeColor = extent.allocated ? getBlockTypeColor(extent.type) : typeColors.free;\n          [r, g, b] = typeColor.rgb;\n        } else {\n          // Utilization mode: color by device with intensity based on chunk usage\n          const colorIdx = colorMap.get(extent.device.id) ?? 0;\n          const [baseR, baseG, baseB] = palette[colorIdx % palette.length];\n\n          let utilization = 0;\n          if (extent.allocated && extent.chunkLength > 0n) {\n            utilization = Number(extent.chunkUsed) / Number(extent.chunkLength);\n          }\n\n          if (!extent.allocated) {\n            // Unallocated space - very light version of device color\n            r = Math.floor(baseR + (250 - baseR) * 0.85);\n            g = Math.floor(baseG + (250 - baseG) * 0.85);\n            b = Math.floor(baseB + (250 - baseB) * 0.85);\n          } else {\n            // Allocated space - intensity based on utilization\n            const lightR = Math.floor(baseR + (245 - baseR) * 0.7);\n            const lightG = Math.floor(baseG + (245 - baseG) * 0.7);\n            const lightB = Math.floor(baseB + (245 - baseB) * 0.7);\n            r = Math.floor(lightR + (baseR - lightR) * utilization);\n            g = Math.floor(lightG + (baseG - lightG) * utilization);\n            b = Math.floor(lightB + (baseB - lightB) * utilization);\n          }\n        }\n\n        const rgba = (255 << 24) | (b << 16) | (g << 8) | r;\n\n        const startPixel = extent.pixelStart;\n        const endPixel = extent.pixelEnd;\n\n        // Fill pixels using serpentine pattern\n        for (let pixel = startPixel; pixel < endPixel; pixel++) {\n          const row = Math.floor(pixel / canvasWidth);\n          const colInRow = pixel % canvasWidth;\n          // Serpentine: reverse direction on odd rows\n          const x = row % 2 === 0 ? colInRow : canvasWidth - 1 - colInRow;\n\n          if (row >= rows) continue;\n\n          // Fill ROW_HEIGHT pixels vertically\n          for (let py = 0; py < ROW_HEIGHT; py++) {\n            const idx = (row * ROW_HEIGHT + py) * canvasWidth + x;\n            if (idx < data32.length) {\n              data32[idx] = rgba;\n            }\n          }\n        }\n      }\n\n      ctx.putImageData(imageData, 0, 0);\n\n      // Draw device boundaries\n      const { bytesPerPixel } = allExtents();\n      let devicePixelStart = 0;\n      // Use different boundary colors based on color mode\n      ctx.strokeStyle = props.colorMode === \"type\" ? 'rgba(0, 0, 0, 0.4)' : 'rgba(255, 255, 255, 0.9)';\n      ctx.lineWidth = 2;\n\n      for (const map of props.maps) {\n        const devicePixels = Math.ceil(Number(map.totalSize) / bytesPerPixel);\n        const devicePixelEnd = devicePixelStart + devicePixels;\n\n        // Draw boundary line at device end\n        const endRow = Math.floor(devicePixelEnd / canvasWidth);\n        const endCol = devicePixelEnd % canvasWidth;\n        const endX = endRow % 2 === 0 ? endCol : canvasWidth - 1 - endCol;\n\n        if (endRow < rows && endCol > 0) {\n          ctx.beginPath();\n          ctx.moveTo(endX, endRow * ROW_HEIGHT);\n          ctx.lineTo(endX, (endRow + 1) * ROW_HEIGHT);\n          ctx.stroke();\n        }\n\n        devicePixelStart = devicePixelEnd;\n      }\n\n      setIsDrawing(false);\n    });\n  };\n\n  // Click outside canvas to deselect\n  const handleDocumentClick = (e: MouseEvent) => {\n    if (canvasRef && !canvasRef.contains(e.target as Node)) {\n      setLockedExtent(null);\n    }\n  };\n\n  onMount(() => {\n    if (containerRef) {\n      setContainerWidth(containerRef.clientWidth);\n    }\n    drawGrid();\n\n    if (containerRef) {\n      const resizeObserver = new ResizeObserver((entries) => {\n        for (const entry of entries) {\n          const newWidth = entry.contentRect.width;\n          if (newWidth > 0 && newWidth !== containerWidth()) {\n            setContainerWidth(newWidth);\n          }\n        }\n      });\n      resizeObserver.observe(containerRef);\n    }\n\n    document.addEventListener('click', handleDocumentClick);\n    document.addEventListener('keydown', handleKeyDown);\n  });\n\n  onCleanup(() => {\n    document.removeEventListener('click', handleDocumentClick);\n    document.removeEventListener('keydown', handleKeyDown);\n  });\n\n  createEffect(() => {\n    allExtents();\n    containerWidth();\n    drawGrid();\n  });\n\n  const findExtentAtPixel = (pixel: number): ExtentCell | null => {\n    const { extents } = allExtents();\n    // Binary search would be faster but linear is fine for now\n    for (const ext of extents) {\n      if (pixel >= ext.pixelStart && pixel < ext.pixelEnd) {\n        return ext;\n      }\n    }\n    return null;\n  };\n\n  // Keyboard navigation - left/right arrows to move between extents\n  const handleKeyDown = (e: KeyboardEvent) => {\n    const current = lockedExtent();\n    if (!current) return;\n    if (e.key !== 'ArrowLeft' && e.key !== 'ArrowRight') return;\n\n    e.preventDefault();\n    const { extents } = allExtents();\n    const currentIndex = extents.findIndex(ext =>\n      ext.device.id === current.device.id &&\n      ext.offset === current.offset\n    );\n\n    if (currentIndex === -1) return;\n\n    let newIndex: number;\n    if (e.key === 'ArrowLeft') {\n      newIndex = currentIndex > 0 ? currentIndex - 1 : extents.length - 1;\n    } else {\n      newIndex = currentIndex < extents.length - 1 ? currentIndex + 1 : 0;\n    }\n\n    const newExtent = extents[newIndex];\n    setLockedExtent(newExtent);\n    setHoveredExtent(newExtent);\n  };\n\n  const handleMouseMove = (e: MouseEvent) => {\n    if (lockedExtent()) return;\n    if (!canvasRef) return;\n\n    const rect = canvasRef.getBoundingClientRect();\n    const x = Math.floor(e.clientX - rect.left);\n    const row = Math.floor((e.clientY - rect.top) / ROW_HEIGHT);\n    const width = containerWidth();\n\n    // Convert to pixel index (accounting for serpentine)\n    const colInRow = row % 2 === 0 ? x : width - 1 - x;\n    const pixel = row * width + colInRow;\n\n    const extent = findExtentAtPixel(pixel);\n    setHoveredExtent(extent);\n  };\n\n  const handleMouseLeave = () => {\n    if (lockedExtent()) return;\n    setHoveredExtent(null);\n  };\n\n  const handleClick = (e: MouseEvent) => {\n    if (!canvasRef) return;\n\n    const rect = canvasRef.getBoundingClientRect();\n    const x = Math.floor(e.clientX - rect.left);\n    const row = Math.floor((e.clientY - rect.top) / ROW_HEIGHT);\n    const width = containerWidth();\n\n    const colInRow = row % 2 === 0 ? x : width - 1 - x;\n    const pixel = row * width + colInRow;\n\n    const extent = findExtentAtPixel(pixel);\n\n    if (lockedExtent() === extent) {\n      setLockedExtent(null);\n    } else {\n      setLockedExtent(extent);\n      setHoveredExtent(extent);\n    }\n  };\n\n  const displayExtent = () => lockedExtent() || hoveredExtent();\n\n  const getTypeName = (type: bigint, allocated: boolean) => {\n    if (!allocated) return \"free\";\n    const t = Number(type);\n    if (t & 1) return \"data\";\n    if (t & 4) return \"metadata\";\n    if (t & 2) return \"system\";\n    return \"unknown\";\n  };\n\n  return (\n    <div ref={containerRef} class=\"w-full\">\n      {/* Tooltip */}\n      <div class=\"mb-1 text-xs text-text-secondary h-4 flex items-center\">\n        <Show when={displayExtent()}>\n          {(ext) => {\n            // Use accessors for reactivity - ext() is called each time to get latest value\n            const used = () => ext().chunkUsed ?? 0n;\n            const total = () => ext().chunkLength ?? 0n;\n            const utilPct = () => {\n              const e = ext();\n              const t = e.chunkLength ?? 0n;\n              if (e.allocated && t > 0n) {\n                return ((Number(e.chunkUsed ?? 0n) / Number(t)) * 100).toFixed(1);\n              }\n              return null;\n            };\n            return (\n              <>\n                <Show when={lockedExtent()}>\n                  <span class=\"text-text-muted mr-2\">[locked]</span>\n                </Show>\n                <span class=\"font-medium\">{ext().device.path || `Device ${ext().device.id}`}</span>\n                <span class=\"mx-2\">|</span>\n                <span class=\"font-mono\">\n                  {formatBytes(ext().offset, props.showRawBytes)}\n                </span>\n                <span class=\"mx-2\">|</span>\n                <span>size: {formatBytes(ext().length, props.showRawBytes)}</span>\n                <span class=\"mx-2\">|</span>\n                <Show when={props.colorMode === \"type\"} fallback={\n                  <Show when={ext().allocated} fallback={<span>unallocated</span>}>\n                    <span>chunk: {formatBytes(used(), props.showRawBytes)} / {formatBytes(total(), props.showRawBytes)}</span>\n                    <Show when={utilPct()}>\n                      {(pct) => <span class=\"ml-1\">({pct()}% used)</span>}\n                    </Show>\n                  </Show>\n                }>\n                  <span>{getTypeName(ext().type, ext().allocated)}</span>\n                </Show>\n              </>\n            );\n          }}\n        </Show>\n      </div>\n\n      <div class=\"relative\">\n        <Show when={isDrawing()}>\n          <div class=\"absolute inset-0 flex items-center justify-center bg-bg-surface/80 z-10\">\n            <span class=\"text-xs text-text-muted\">Drawing...</span>\n          </div>\n        </Show>\n        <canvas\n          ref={canvasRef}\n          class=\"cursor-pointer\"\n          style={{ \"image-rendering\": \"pixelated\" }}\n          onMouseMove={handleMouseMove}\n          onMouseLeave={handleMouseLeave}\n          onClick={handleClick}\n        />\n        {/* Highlight overlay for hovered/locked extent - uses SVG for smart outline */}\n        <Show when={extentHighlightPath()}>\n          {(path) => (\n            <svg\n              class=\"absolute top-0 left-0 pointer-events-none\"\n              width={canvasDimensions().width}\n              height={canvasDimensions().height}\n              style={{ overflow: \"visible\" }}\n            >\n              <path\n                d={path()}\n                fill=\"none\"\n                stroke={lockedExtent() ? \"rgba(250, 204, 21, 0.9)\" : props.colorMode === \"type\" ? \"rgba(0, 0, 0, 0.7)\" : \"rgba(255, 255, 255, 0.9)\"}\n                stroke-width=\"2\"\n                filter={lockedExtent() ? \"drop-shadow(0 0 4px rgba(250, 204, 21, 0.7))\" : props.colorMode === \"type\" ? \"drop-shadow(0 0 2px rgba(255, 255, 255, 0.8))\" : \"drop-shadow(0 0 3px rgba(0, 0, 0, 0.6))\"}\n              />\n            </svg>\n          )}\n        </Show>\n      </div>\n    </div>\n  );\n}\n\n// REMOVED: LayoutGridView - now using BaseGridView with colorMode=\"type\"\n// REMOVED: BlockMapView - deprecated\n\nfunction getBlockTypeName(type: bigint): string {\n  const t = Number(type);\n  if (t & 1) return \"data\";\n  if (t & 4) return \"metadata\";\n  if (t & 2) return \"system\";\n  return \"unknown\";\n}\n\nfunction getProfileInfo(profile: bigint): { name: string; efficiency: number } {\n  const p = Number(profile);\n  // Profile bit flags from btrfs\n  if (p & (1 << 10)) return { name: \"raid1c4\", efficiency: 25 };\n  if (p & (1 << 9)) return { name: \"raid1c3\", efficiency: 33 };\n  if (p & (1 << 8)) return { name: \"raid6\", efficiency: 67 };\n  if (p & (1 << 7)) return { name: \"raid5\", efficiency: 75 };\n  if (p & (1 << 6)) return { name: \"raid10\", efficiency: 50 };\n  if (p & (1 << 5)) return { name: \"dup\", efficiency: 50 };\n  if (p & (1 << 4)) return { name: \"raid1\", efficiency: 50 };\n  if (p & (1 << 3)) return { name: \"raid0\", efficiency: 100 };\n  return { name: \"single\", efficiency: 100 };\n}\n","import { FragMapViz } from \"@/components/FragMapViz\";\n\nexport function VisualizeTab(props: { fsPath: string }) {\n  return <FragMapViz fsPath={props.fsPath} />;\n}\n","import { Show, For, createResource, onMount, onCleanup, Suspense } from \"solid-js\";\nimport { filesystemClient } from \"@/api/client\";\n\nasync function loadErrors(fsPath: string) {\n  const resp = await filesystemClient.getErrors({ device: fsPath, limit: 1000 });\n  return resp.errors;\n}\n\nexport function ErrorsTab(props: { fsPath: string }) {\n  const [errors, { refetch }] = createResource(() => props.fsPath, loadErrors);\n\n  // Listen for refresh events\n  onMount(() => {\n    const handler = () => refetch();\n    window.addEventListener(\"fs-refresh\", handler);\n    onCleanup(() => window.removeEventListener(\"fs-refresh\", handler));\n  });\n\n  const errorTypeClass = (errType: string) => {\n    if (errType === \"corruption_err\") return \"text-error\";\n    if (errType === \"generation_err\") return \"text-warning-soft\";\n    if (errType.includes(\"io_err\")) return \"text-warning\";\n    return \"text-text-tertiary\";\n  };\n\n  return (\n    <Suspense fallback={<div class=\"text-xs text-text-tertiary\">loading errors...</div>}>\n      <Show when={errors()} keyed>\n        {(errs) => (\n          <div class=\"bg-bg-surface border border-border-default\">\n            <Show when={errs.length === 0}>\n              <div class=\"text-xs text-success p-3\">no errors</div>\n            </Show>\n            <Show when={errs.length > 0}>\n              <For each={errs}>\n                {(err) => (\n                  <div class=\"px-2 py-1 border-b border-border-subtle text-xs hover:bg-bg-surface-raised\">\n                    <div class=\"flex items-center space-x-2\">\n                      <span class={errorTypeClass(err.errorType)}>{err.errorType}</span>\n                      <span class=\"text-text-muted\">\n                        {new Date(Number(err.timestamp) * 1000).toLocaleString(\"sv-SE\", { dateStyle: \"short\", timeStyle: \"short\" })}\n                      </span>\n                      <span class=\"text-text-secondary font-mono\">{err.device}</span>\n                      <Show when={err.message}>\n                        <span class=\"text-text-default\">{err.message}</span>\n                      </Show>\n                    </div>\n                    <Show when={err.path}>\n                      <div class=\"text-text-tertiary font-mono pl-4 truncate\">{err.path}</div>\n                    </Show>\n                  </div>\n                )}\n              </For>\n            </Show>\n          </div>\n        )}\n      </Show>\n    </Suspense>\n  );\n}\n","import { Show, createSignal, createEffect, batch } from \"solid-js\";\nimport type { TrackedFilesystem } from \"%/v1/filesystem_pb\";\nimport { filesystemClient } from \"@/api/client\";\nimport { Card, Button, Alert, LabeledInput } from \"@/components/ui\";\nimport { formatNumber } from \"@/lib/utils\";\n\nexport function SettingsTab(props: {\n  fs: TrackedFilesystem;\n  onSave: () => void;\n}) {\n  const [editLabel, setEditLabel] = createSignal(\"\");\n  const [editBtrbkDir, setEditBtrbkDir] = createSignal(\"\");\n  const [saving, setSaving] = createSignal(false);\n  const [saveSuccess, setSaveSuccess] = createSignal(false);\n  const [error, setError] = createSignal(\"\");\n\n  // Initialize edit fields from fs prop\n  createEffect(() => {\n    batch(() => {\n      setEditLabel(props.fs.label);\n      setEditBtrbkDir(props.fs.btrbkSnapshotDir);\n    });\n  });\n\n  const hasChanges = () =>\n    editLabel() !== props.fs.label ||\n    editBtrbkDir() !== props.fs.btrbkSnapshotDir;\n\n  const defaultName = () => {\n    const parts = props.fs.path.replace(/\\/$/, \"\").split(\"/\");\n    return parts[parts.length - 1] || \"\";\n  };\n\n  const handleSave = async () => {\n    batch(() => {\n      setSaving(true);\n      setError(\"\");\n      setSaveSuccess(false);\n    });\n\n    try {\n      await filesystemClient.updateFilesystem({\n        id: props.fs.id,\n        label: editLabel(),\n        btrbkSnapshotDir: editBtrbkDir().replace(/^\\//, \"\"),\n      });\n      setSaveSuccess(true);\n      props.onSave();\n      setTimeout(() => setSaveSuccess(false), 3000);\n    } catch (e) {\n      setError(String(e));\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <Card class=\"p-3 space-y-3\">\n      <Show when={error()}>\n        <Alert type=\"error\">{error()}</Alert>\n      </Show>\n      <Show when={saveSuccess()}>\n        <Alert type=\"success\">settings saved</Alert>\n      </Show>\n\n      <LabeledInput\n        label=\"name\"\n        value={editLabel()}\n        onChange={setEditLabel}\n        placeholder={defaultName()}\n        hint=\"display name for this filesystem\"\n        class=\"max-w-xs\"\n      />\n\n      <LabeledInput\n        label=\"btrbk snapshot directory\"\n        value={editBtrbkDir()}\n        onChange={setEditBtrbkDir}\n        placeholder=\".snapshots\"\n        mono\n        hint=\"subvolumes under this directory will be treated as btrbk snapshots\"\n        class=\"max-w-xs\"\n      />\n\n      <div>\n        <Button\n          variant=\"primary\"\n          disabled={saving() || !hasChanges()}\n          onClick={handleSave}\n        >\n          {saving() ? \"saving...\" : \"save\"}\n        </Button>\n      </div>\n\n      <div class=\"border-t border-border-default pt-3 mt-3 text-xs text-text-tertiary space-y-1\">\n        <div>\n          <span>path: </span>\n          <span class=\"font-mono text-text-default\">{props.fs.path}</span>\n        </div>\n        <div>\n          <span>id: </span>\n          <span class=\"text-text-default\">{formatNumber(props.fs.id)}</span>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","import { createSignal, createResource, createMemo, For, Show, onMount, onCleanup, Suspense } from \"solid-js\";\nimport { useParams, A } from \"@solidjs/router\";\nimport { filesystemClient } from \"@/api/client\";\nimport { cacheFsData } from \"@/stores/filesystems\";\nimport { uiSettings, setShowRawBytes } from \"@/stores/ui\";\nimport type { TrackedFilesystem } from \"%/v1/filesystem_pb\";\nimport { cn } from \"@/lib/utils\";\nimport { ToggleGroup, Alert } from \"@/components/ui\";\n\n// Tab components\nimport { OverviewTab } from \"./fs/OverviewTab\";\nimport { UsageTab } from \"./fs/UsageTab\";\nimport { SubvolumesTab } from \"./fs/SubvolumesTab\";\nimport { MaintenanceTab } from \"./fs/MaintenanceTab\";\nimport { VisualizeTab } from \"./fs/VisualizeTab\";\nimport { ErrorsTab } from \"./fs/ErrorsTab\";\nimport { SettingsTab } from \"./fs/SettingsTab\";\n\nasync function loadFs(id: string): Promise<TrackedFilesystem | null> {\n  const fsId = BigInt(id);\n  const fsResp = await filesystemClient.listTrackedFilesystems({});\n  const fs = fsResp.filesystems.find(f => f.id === fsId);\n  if (fs) cacheFsData(fs);\n  return fs ?? null;\n}\n\nexport default function FilesystemDetail() {\n  const params = useParams();\n  const [fs, { refetch }] = createResource(() => params.id, loadFs);\n  const [expandedNodes, setExpandedNodes] = createSignal<Set<bigint>>(new Set());\n  const [error, setError] = createSignal(\"\");\n\n  // Listen for refresh events\n  onMount(() => {\n    const handler = () => {\n      refetch();\n      // Dispatch a custom event that tabs can listen to\n      window.dispatchEvent(new CustomEvent(\"fs-refresh\"));\n    };\n    window.addEventListener(\"refresh\", handler);\n    onCleanup(() => window.removeEventListener(\"refresh\", handler));\n  });\n\n  const activeTab = createMemo(() => params.tab || \"overview\");\n\n  const tabs = [\n    { id: \"overview\", label: \"overview\" },\n    { id: \"usage\", label: \"usage\" },\n    { id: \"subvolumes\", label: \"subvolumes\" },\n    { id: \"maintenance\", label: \"maintenance\" },\n    { id: \"visualize\", label: \"visualize\" },\n    { id: \"errors\", label: \"errors\" },\n    { id: \"config\", label: \"config\" },\n  ];\n\n  return (\n    <div>\n      {/* Tabs row */}\n      <div class=\"flex items-end justify-between\">\n        <div class=\"flex\">\n          <For each={tabs}>\n            {(tab) => (\n              <A\n                href={`/fs/${params.id}/${tab.id}`}\n                class={cn(\n                  \"px-3 py-1 text-xs select-none border-t border-x -mb-px\",\n                  activeTab() === tab.id\n                    ? \"border-border-default bg-bg-surface text-text-default\"\n                    : \"border-transparent text-text-tertiary hover:text-text-default hover:bg-bg-surface-raised\"\n                )}\n                draggable={false}\n              >\n                {tab.label}\n              </A>\n            )}\n          </For>\n        </div>\n        <ToggleGroup\n          options={[\n            { label: \"human\", value: false },\n            { label: \"raw\", value: true },\n          ]}\n          value={uiSettings().showRawBytes}\n          onChange={setShowRawBytes}\n          class=\"mb-1\"\n        />\n      </div>\n\n      {/* Content panel */}\n      <div class=\"border border-border-default bg-bg-surface p-3\">\n        {/* Error */}\n        <Show when={error()}>\n          <Alert type=\"error\" class=\"mb-2\">{error()}</Alert>\n        </Show>\n\n        {/* Loading fs */}\n        <Suspense fallback={<div class=\"text-xs text-text-tertiary\">loading...</div>}>\n          <Show when={fs()} keyed>\n            {(f) => (\n              <>\n                <Show when={activeTab() === \"overview\"}>\n                  <OverviewTab fs={f} />\n                </Show>\n                <Show when={activeTab() === \"usage\"}>\n                  <UsageTab fs={f} />\n                </Show>\n                <Show when={activeTab() === \"subvolumes\"}>\n                  <SubvolumesTab\n                    fs={f}\n                    expandedNodes={expandedNodes()}\n                    setExpandedNodes={setExpandedNodes}\n                  />\n                </Show>\n                <Show when={activeTab() === \"maintenance\"}>\n                  <MaintenanceTab fs={f} setError={setError} onRefresh={refetch} />\n                </Show>\n                <Show when={activeTab() === \"visualize\"}>\n                  <VisualizeTab fsPath={f.path} />\n                </Show>\n                <Show when={activeTab() === \"errors\"}>\n                  <ErrorsTab fsPath={f.path} />\n                </Show>\n                <Show when={activeTab() === \"config\"}>\n                  <SettingsTab fs={f} onSave={refetch} />\n                </Show>\n              </>\n            )}\n          </Show>\n        </Suspense>\n      </div>\n    </div>\n  );\n}\n"],"names":["Math","h","t","a","Error","Array","s","n","globalThis","console","ALLOC_TYPE_ANCHORS","Data","Metadata","System","Unallocated","getUsageBarColor","allocType","l","anchors","OverviewTab","props","_el$","_el$2","_el$14","_el$17","_el$20","usage","refetch","refetchUsage","createResource","fs","path","filesystemClient","devicePath","then","r","subvolumes","refetchSubvols","subvolumeClient","mountPath","scrubData","refetchScrub","scrubClient","errors","refetchErrors","device","limit","deviceStats","refetchStats","devices","onMount","handler","window","addEventListener","onCleanup","removeEventListener","showRaw","uiSettings","showRawBytes","subvolCount","createMemo","subs","latest","length","countBackups","btrbkSnapshotDir","backupCount","errorCount","scrubInfo","data","text","class","isRunning","progress","hasErrors","uncorrectableErrors","readErrors","csumErrors","status","deviceCount","stats","u","allocDeviceCount","paths","Set","alloc","allocations","dev","add","size","max","_el$16","_el$15","_el$13","_tmpl$6","firstChild","nextSibling","_$insert","_$createComponent","A","href","id","children","_el$3","_tmpl$","_el$5","_el$4","formatNumber","Show","when","fallback","_tmpl$7","_el$6","_tmpl$2","_el$8","_el$7","_el$9","_tmpl$3","_el$1","_el$0","_$effect","_$className","_el$10","_tmpl$4","_el$12","_el$11","StatRow","label","align","_el$18","_tmpl$5","_el$19","Suspense","_tmpl$8","_tmpl$9","_el$26","_el$27","_tmpl$10","_el$28","_tmpl$0","scrub","startedAt","Date","Number","toLocaleString","duration","_tmpl$11","_c$","_c$2","_c$3","_el$29","_tmpl$1","_$memo","_tmpl$12","SpaceAllocationsCard","_tmpl$13","DevicesCard","_el$33","_el$36","_el$37","_el$39","_el$40","_el$41","_el$43","_el$44","_el$45","_el$47","_el$50","_el$51","_el$52","_el$54","_el$57","_el$62","deviceColors","colors","Map","color","generateTypeColors","devicePaths","count","set","palette","shuffleForContrast","arr","result","mid","ceil","i","push","poline","Poline","anchorColors","numPoints","colorsCSS","forEach","map","d","type","totalSpace","total","deviceSize","allocated","deviceAllocated","unallocated","deviceUnallocated","used","allocatedPct","space","filter","toLowerCase","includes","globalReserve","find","_el$35","_el$34","_tmpl$15","_el$42","_el$38","_el$48","_el$46","_el$53","_el$56","_el$55","_el$61","For","each","pct","Tooltip","profile","formatBytes","split","pop","join","_el$63","_tmpl$16","_el$64","_el$65","_el$67","_el$66","_el$68","_el$69","_el$70","_tmpl$17","_$p","_$setStyleProperty","_el$71","_tmpl$18","_p$","_v$3","_v$4","get","e","undefined","slice","_v$","_v$2","unalloc","rawTotal","reduce","sum","unallocPct","_el$72","_tmpl$19","_el$73","_el$74","_el$76","_el$75","_el$77","_v$5","_v$6","_v$7","FormattedBytes","bytes","deviceSlack","_el$58","_tmpl$14","_el$60","_el$59","gr","_el$78","_el$80","_el$81","_el$79","_tmpl$20","_el$82","_el$83","_el$84","_el$85","_el$86","_el$88","_el$89","_el$90","_el$93","_tmpl$21","_el$91","_el$87","_tmpl$22","ratio","dataRatio","metadataRatio","_el$94","_el$96","deviceList","totalBytes","deviceId","writeErrors","flushErrors","corruptionErrors","generationErrors","devMap","from","entries","_el$95","_tmpl$23","_el$97","_el$98","_el$99","_el$100","_el$103","_el$106","_el$107","_el$108","deviceAllocations","devPath","devAlloc","Boolean","totalErrors","_tmpl$26","_el$101","_tmpl$24","_tmpl$27","_el$104","_tmpl$25","_el$105","_el$110","_tmpl$28","_v$8","_v$9","_v$0","_$setAttribute","_el$111","_el$112","_el$113","_tmpl$29","_el$114","_el$115","_tmpl$30","UsageTab","_el$30","_el$31","statusInterval","treeRefreshInterval","pathAnimInterval","sortBy","setSortBy","createSignal","sortDesc","setSortDesc","autoRefreshPaused","setAutoRefreshPaused","treeData","setTreeData","createStore","TreeNode","expandedPaths","setExpandedPaths","prevSessionId","statusData","setStatusData","Awaited","initialLoading","setInitialLoading","treeLoading","setTreeLoading","fetchStatus","resp","usageClient","fsPath","error","rootTotalSize","setRootTotalSize","rootTotalSamples","setRootTotalSamples","fetchChildren","totalSize","totalSamples","name","fullPath","isDir","samples","estimatedSize","percentage","childCount","loadRoot","hasSession","reconcile","setInterval","currentSessionId","sessionId","sampleCount","refreshTree","running","clearInterval","expanded","rootChildren","refreshedChildren","refreshNodeChildren","nodes","Promise","all","node","has","cachedStatus","setCachedStatus","samplesPerSec","currentPath","runningTimeSeconds","recentPaths","setRecentPaths","pathAnimIndex","setPathAnimIndex","prev","newValues","samplesPerSecond","elapsed","seconds","cached","mins","floor","secs","maxSamples","handleSortClick","handleStartSampling","resume","setTimeout","handleStopSampling","handleClear","toggleNode","newExpanded","delete","updateNodeInTree","loading","newNode","produce","current","lastIdx","Object","assign","TreeNodeRow","$$click","hasChildren","classList","toggle","toFixed","depth","o","child","_el$22","_el$23","_el$25","_el$21","_el$24","currentSamplingPath","disabled","_$delegateEvents","loadSubvolumes","SubvolumesTab","keyed","SubvolumesContent","expandedNodes","setExpandedNodes","sv","isInBtrbkDir","tooltip","setTooltip","tree","byParent","parentId","renderRow","isExpanded","isSnapshot","parentUuid","next","gen","Flag","active","isReadonly","activeClass","uuid","copyToClipboard","truncateUuid","formatDate","timestamp","date","getFullYear","toISOString","createdAt","roots","backupGroups","lastDot","lastIndexOf","source","substring","dateStr","parseInt","backups","values","sort","b","getTime","localeCompare","timeSlots","now","startOfToday","getMonth","getDate","slots","cursor","end","start","totalBackups","handleMouseLeave","slot","_el$32","latestRelative","formatRelativeTimeShort","hasBackup","handleMouseEnter","rect","target","getBoundingClientRect","x","left","width","y","top","showBelow","backup","toLocaleDateString","_el$49","ScrubConfirmModal","readonly","setReadonly","initialReadonly","limitMB","setLimitMB","force","setForce","createEffect","open","handleConfirm","limitVal","parseFloat","onConfirm","limitBytesPerSec","BigInt","handleClose","onClose","Modal","title","currentTarget","checked","$$input","value","Button","variant","onClick","BalanceConfirmModal","setData","metadata","setMetadata","system","setSystem","usagePercent","setUsagePercent","limitChunks","setLimitChunks","dryRun","setDryRun","filters","$typeName","limitPercent","background","resetFields","MaintenanceTab","balanceData","refetchBalance","balanceClient","pollInterval","setPollInterval","pollingCountdown","setPollingCountdown","pollRetries","setPollRetries","scrubRunning","balanceRunning","initialCheckDone","balance","startPolling","interval","c","stillRunning","retriesLeft","startScrub","opts","setError","String","cancelScrub","startBalance","cancelBalance","ScrubSection","onStart","onCancel","isPolling","BalanceSection","CountdownCircle","circumference","PI","countdown","scrubModalOpen","setScrubModalOpen","setInitialReadonly","scrubStatus","verifyErrors","superErrors","mallocErrors","unverifiedErrors","dataErrors","treeErrors","scrubStatusBadge","progressPercent","ProgressBar","colorClass","ScrubStats","statusBadge","dateStyle","timeStyle","finishedAt","toLocaleTimeString","bytesScrubbed","dataBytesScrubbed","dataExtentsScrubbed","treeBytesScrubbed","treeExtentsScrubbed","ErrorSpan","critical","WarnSpan","correctedErrors","noCsum","csumDiscards","lastPhysical","balanceModalOpen","setBalanceModalOpen","balanceStatus","balanceStatusBadge","BalanceStats","bal","totalChunks","relocated","considered","sizeRelocated","softErrors","generateDevicePalette","numDevices","positionFunction","m","g","clampedL","min","abs","round","typeColors","bg","hex","isFree","rgb","free","FragMapViz","viewMode","setViewMode","legendFilter","setLegendFilter","allBlockMaps","fragmapClient","deviceIds","maps","index","devs","idx","usedPct","totalAllocated","allocatedSize","numExtents","BaseGridView","colorMode","selectByType","_ref$","_ref$2","canvasRef","containerRef","hoveredExtent","setHoveredExtent","lockedExtent","setLockedExtent","ExtentCell","containerWidth","setContainerWidth","canvasDimensions","setCanvasDimensions","height","isDrawing","setIsDrawing","extentHighlightPath","ext","rows","startRow","pixelStart","endRow","pixelEnd","rowRects","row","x1","x2","rowPixelStart","rowPixelEnd","extStartInRow","extEndInRow","startCol","endCol","w","pathParts","first","curr","currRight","nextRight","last","currLeft","prevLeft","deviceColorMap","devicePalette","allExtents","extents","totalPixels","bytesPerPixel","globalByteOffset","entry","startByte","offset","endByte","chunkUsed","chunkLength","sel","matchingExtents","getBlockType","actualIndex","selectedExtent","drawGrid","ctx","getContext","clientWidth","requestAnimationFrame","canvasHeight","colorMap","imageData","createImageData","data32","Uint32Array","buffer","extent","fill","typeColor","getBlockTypeColor","baseR","baseG","baseB","colorIdx","utilization","lightR","lightG","lightB","rgba","startPixel","endPixel","pixel","colInRow","canvasWidth","py","putImageData","devicePixelStart","strokeStyle","lineWidth","devicePixelEnd","endX","beginPath","moveTo","lineTo","stroke","handleDocumentClick","contains","resizeObserver","ResizeObserver","newWidth","contentRect","observe","document","handleKeyDown","findExtentAtPixel","newIndex","key","preventDefault","currentIndex","findIndex","newExtent","_$use","getTypeName","handleClick","clientX","clientY","$$mousemove","handleMouseMove","VisualizeTab","loadErrors","ErrorsTab","errs","err","errorType","message","errType","SettingsTab","editLabel","setEditLabel","editBtrbkDir","setEditBtrbkDir","saving","setSaving","saveSuccess","setSaveSuccess","batch","handleSave","replace","onSave","Card","Alert","LabeledInput","onChange","placeholder","parts","hint","mono","loadFs","fsId","fsResp","filesystems","f","cacheFsData","FilesystemDetail","params","useParams","dispatchEvent","CustomEvent","activeTab","tab","cn","draggable","ToggleGroup","options","setShowRawBytes","onRefresh"],"mappings":"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"}